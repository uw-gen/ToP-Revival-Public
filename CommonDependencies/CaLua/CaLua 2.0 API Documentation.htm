<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 10">
<meta name=Originator content="Microsoft Word 10">
<link rel=File-List href="CaLua%202.0%20API%20Documentation_files/filelist.xml">
<title>CaLua Library</title>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="PlaceType"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="PlaceName"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="place"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="State"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="address"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="Street"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="City"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="country-region"/>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Mr.Oreo</o:Author>
  <o:LastAuthor>Justin</o:LastAuthor>
  <o:Revision>23</o:Revision>
  <o:TotalTime>293</o:TotalTime>
  <o:Created>2004-01-24T05:41:00Z</o:Created>
  <o:LastSaved>2004-01-24T07:31:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>5234</o:Words>
  <o:Characters>29835</o:Characters>
  <o:Company> </o:Company>
  <o:Lines>248</o:Lines>
  <o:Paragraphs>69</o:Paragraphs>
  <o:CharactersWithSpaces>35000</o:CharactersWithSpaces>
  <o:Version>10.3311</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:Zoom>110</w:Zoom>
  <w:HideSpellingErrors/>
  <w:HideGrammaticalErrors/>
  <w:ActiveWritingStyle Lang="EN-US" VendorID="64" DLLVersion="131078"
   NLCheck="1">1</w:ActiveWritingStyle>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-language:EN-US;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:center 3.0in right 6.0in;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-language:EN-US;}
p.Style11ptFirstline05, li.Style11ptFirstline05, div.Style11ptFirstline05
	{mso-style-name:"Style 11 pt First line\:  0\.5\0022";
	margin:0in;
	margin-bottom:.0001pt;
	text-indent:.5in;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-language:EN-US;}
p.normal, li.normal, div.normal
	{mso-style-name:normal;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	text-indent:.5in;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	mso-bidi-font-size:28.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-language:EN-US;}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-page-numbers:num-in-dash;
	mso-even-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") ef1;
	mso-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") f1;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
@page Section2
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-page-numbers:num-in-dash;
	mso-even-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") ef1;
	mso-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") f1;
	mso-paper-source:0;}
div.Section2
	{page:Section2;}
@page Section3
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-page-numbers:num-in-dash;
	mso-even-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") ef1;
	mso-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") f1;
	mso-paper-source:0;}
div.Section3
	{page:Section3;}
@page Section4
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-page-numbers:num-in-dash;
	mso-even-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") ef1;
	mso-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") f1;
	mso-paper-source:0;}
div.Section4
	{page:Section4;}
@page Section5
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-page-numbers:num-in-dash;
	mso-even-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") ef1;
	mso-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") f1;
	mso-paper-source:0;}
div.Section5
	{page:Section5;}
@page Section6
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-page-numbers:num-in-dash;
	mso-even-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") ef1;
	mso-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") f1;
	mso-paper-source:0;}
div.Section6
	{page:Section6;}
@page Section7
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-page-numbers:num-in-dash;
	mso-even-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") ef1;
	mso-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") f1;
	mso-paper-source:0;}
div.Section7
	{page:Section7;}
@page Section8
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-page-numbers:num-in-dash;
	mso-even-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") ef1;
	mso-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") f1;
	mso-paper-source:0;}
div.Section8
	{page:Section8;}
@page Section9
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-page-numbers:num-in-dash;
	mso-even-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") ef1;
	mso-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") f1;
	mso-paper-source:0;}
div.Section9
	{page:Section9;}
@page Section10
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-page-numbers:num-in-dash;
	mso-even-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") ef1;
	mso-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") f1;
	mso-paper-source:0;}
div.Section10
	{page:Section10;}
@page Section11
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-page-numbers:num-in-dash;
	mso-even-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") ef1;
	mso-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") f1;
	mso-paper-source:0;}
div.Section11
	{page:Section11;}
@page Section12
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-page-numbers:num-in-dash;
	mso-even-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") ef1;
	mso-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") f1;
	mso-paper-source:0;}
div.Section12
	{page:Section12;}
@page Section13
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-page-numbers:num-in-dash;
	mso-even-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") ef1;
	mso-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") f1;
	mso-paper-source:0;}
div.Section13
	{page:Section13;}
@page Section14
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-page-numbers:num-in-dash;
	mso-even-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") ef1;
	mso-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") f1;
	mso-paper-source:0;}
div.Section14
	{page:Section14;}
@page Section15
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-page-numbers:num-in-dash;
	mso-even-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") ef1;
	mso-footer:url("CaLua%202.0%20API%20Documentation_files/header.htm") f1;
	mso-paper-source:0;}
div.Section15
	{page:Section15;}
 /* List Definitions */
 @list l0
	{mso-list-id:880245619;
	mso-list-type:hybrid;
	mso-list-template-ids:-96405068 -1042745936 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l0:level1
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%1\)";
	mso-level-tab-stop:.75in;
	mso-level-number-position:left;
	margin-left:.75in;
	text-indent:-.25in;}
@list l1
	{mso-list-id:1108893473;
	mso-list-type:hybrid;
	mso-list-template-ids:-683409104 -219898756 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l1:level1
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%1\)";
	mso-level-tab-stop:.75in;
	mso-level-number-position:left;
	margin-left:.75in;
	text-indent:-.25in;}
@list l2
	{mso-list-id:1700619346;
	mso-list-type:hybrid;
	mso-list-template-ids:-1118281428 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l2:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	margin-left:1.0in;
	text-indent:-.25in;
	font-family:Symbol;}
@list l3
	{mso-list-id:2015767362;
	mso-list-type:hybrid;
	mso-list-template-ids:2047504306 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l3:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	margin-left:1.0in;
	text-indent:-.25in;
	font-family:Symbol;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
table.MsoTableGrid
	{mso-style-name:"Table Grid";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	border:solid windowtext 1.0pt;
	mso-border-alt:solid windowtext .5pt;
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-border-insideh:.5pt solid windowtext;
	mso-border-insidev:.5pt solid windowtext;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="2050"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=EN-US style='tab-interval:.5in'>

<div class=Section1>

<p class=MsoNormal align=center style='text-align:center'><span class=SpellE><span
style='font-size:28.0pt'>CaLua</span></span><span style='font-size:28.0pt'> 2.0
API Manual<o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center'><i style='mso-bidi-font-style:
normal'>Justin <span class=SpellE>Reynen</span>, January 2003<o:p></o:p></i></p>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-size:10.0pt'>justinreynen@hotmail.com<o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><i style='mso-bidi-font-style:
normal'><span style='font-size:14.0pt'>Introduction<o:p></o:p></span></i></b></p>

<p class=MsoNormal style='text-indent:.5in'><o:p>&nbsp;</o:p></p>

<p class=Style11ptFirstline05>As applications grow in size and complexity, a
need has arisen for tools that allow the tweaking and development of
applications without the need to compile or change complex pieces of compiled
code. A complete re-compile of a large application after only a few
magic-number variables have been changed, is a waste of time. Smart compilers
reduce compile times significantly, but they are nowhere near the ideal
solution, which would be the ability to view the changes instantly with the
press of a button.</p>

<p class=Style11ptFirstline05><o:p>&nbsp;</o:p></p>

<p class=Style11ptFirstline05>Tweaking magic numbers and re-building often
comes up in interactive applications, that is, applications where a certain
artistic feeling is needed. GUI’s and games are an obvious example. Of these
two examples, the development of modern computer games is an interesting topic.</p>

<p class=Style11ptFirstline05><o:p>&nbsp;</o:p></p>

<p class=Style11ptFirstline05>Modern computer games have evolved during the
90’s, from simple programs that move graphical blobs on the screen, to full
blown cinematic environments capable of detailed graphics, engrossing stories
and sophisticated game play. It has been during the 90’s that game development
teams have moved from a group of mostly programmers, to a group of mostly
artists and designers. Since games are being developed by mostly artists and
designers, and artists and designers aren’t able to dive into sophisticated
C/C++ code to get the results they desire, a system needs to be put into place
to allow artists to work with the game engine without the assistance of the
already overburdened programmers.</p>

<p class=Style11ptFirstline05><o:p>&nbsp;</o:p></p>

<p class=Style11ptFirstline05><span class=GramE>So modern game developers have
two issues to address when starting out on any size project.</span> a) A system
for easily creating game content and b) The content creation system must be
easy enough for an artist or designer to use. It is from these two needs that
scripting systems are born.</p>

<p class=Style11ptFirstline05><o:p>&nbsp;</o:p></p>

<p class=Style11ptFirstline05>A scripting system called <span class=SpellE>Lua</span>
has been around since July of 1993, and version 5.0 (the most recent and
popular version) has had a solid shape since late 2002/early 2003. It is an
extremely fast, loosely typed language, with a very small interpreter, and best
of all, it’s free! From the late 90’s until today, it has been gaining
popularity in the game industry. It offers a very fast, easy to use API for the
movement of simple data types from C to <span class=SpellE>Lua</span> and vice
versa.</p>

<p class=Style11ptFirstline05><o:p>&nbsp;</o:p></p>

<p class=Style11ptFirstline05><span class=SpellE>Lua</span> is not perfect
however. Moving complex data types, such as C structures, to and from <span
class=SpellE>Lua</span> is a chore, and creating C functions for use in <span
class=SpellE>Lua</span> scripts requires a lot of effort in working with the <span
class=SpellE>Lua</span> stack, especially for complex data types. <span
class=SpellE>Consistancy</span> in translating C data into <span class=SpellE>Lua</span>
data and back again also needs to be addressed. Implementing scripting in
existing applications would be a nightmare, since one would have to go and make
significant changes to parts of C code you wanted to expose to <span
class=SpellE>Lua</span> scripts. A look at the 3<sup>rd</sup> party <span
class=SpellE>Lua</span> tools available, as of this writing, shows that there
is a lot of room available for improvements.</p>

<p class=Style11ptFirstline05 style='text-indent:0in'><o:p>&nbsp;</o:p></p>

</div>

<span style='font-size:11.0pt;mso-bidi-font-size:10.0pt;font-family:"Times New Roman";
mso-fareast-font-family:"Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:AR-SA'><br clear=all style='page-break-before:always;
mso-break-type:section-break'>
</span>

<div class=Section2>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:11.0pt'>Enter
</span></i></b><st1:State><st1:place><span class=SpellE><b><i><span
  style='font-size:14.0pt;mso-bidi-font-size:11.0pt'>CaL</span></i></b></span></st1:place></st1:State><span
class=SpellE><b><i><span style='font-size:14.0pt;mso-bidi-font-size:11.0pt'>ua</span></i></b></span><span
style='font-size:11.0pt'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt'><span style='mso-tab-count:
1'>            </span><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span class=SpellE><span
style='font-size:11.0pt'>CaLua</span></span><span style='font-size:11.0pt'>
stands for <b style='mso-bidi-font-weight:normal'>C a</b>nd <span class=SpellE><b
style='mso-bidi-font-weight:normal'>Lua</b></span>. It is a system for exposing
C functions to <span class=SpellE>Lua</span> scripts, <span class=SpellE>Lua</span>
functions to C programs, <span class=SpellE>Lua</span> data types to C
programs, and C data types to <span class=SpellE>Lua</span> scripts. Simplicity
is also kept in mind, as <span class=SpellE>CaLua</span> has a very small C
API, but there is a lot happening under the hood. Most 3<sup>rd</sup> party
tools are very thin layers over the <span class=SpellE>Lua</span> C API, and
merely save a bit of typing. </span><st1:State><st1:place><span class=SpellE><span
  style='font-size:11.0pt'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt'>ua</span></span><span
style='font-size:11.0pt'> deals with the complexities of <span class=SpellE>Lua</span>
and scripting systems in general, while hiding none of <span class=SpellE>Lua’s</span>
features.<o:p></o:p></span></p>

<p class=Style11ptFirstline05><o:p>&nbsp;</o:p></p>

<p class=Style11ptFirstline05><st1:State><st1:place><span class=SpellE>CaL</span></st1:place></st1:State><span
class=SpellE>ua</span> works on the principle of data description. A
description of a data type or function is given to <st1:State><st1:place><span
  class=SpellE>CaL</span></st1:place></st1:State><span class=SpellE>ua</span>,
which takes care of all the internals with <span class=SpellE>Lua</span>. After
registering a C function or data type (that is, describing it to <st1:State><st1:place><span
  class=SpellE>CaL</span></st1:place></st1:State><span class=SpellE>ua</span>),
you can then use the C function or data type in your <span class=SpellE>Lua</span>
scripts. Calling <span class=SpellE>Lua</span> functions from C, using <span
class=SpellE><span class=GramE>CaLua</span></span><span class=GramE>,</span> is
very similar to calling functions normally. You need the name of the <span
class=SpellE>Lua</span> function, a description or <span class=GramE>it’s</span>
return and passed arguments, and the data to pass to the function. <span
class=SpellE>CaLua</span> takes care of translating the C data into <span
class=SpellE>Lua</span> data, and vice versa. More detail in the translation is
covered later on.</p>

<p class=Style11ptFirstline05><o:p>&nbsp;</o:p></p>

<p class=Style11ptFirstline05><st1:State><st1:place><span class=SpellE>CaL</span></st1:place></st1:State><span
class=SpellE>ua</span> 2.0 offers support for a wide variety of project
settings. <st1:State><st1:place><span class=SpellE>CaL</span></st1:place></st1:State><span
class=SpellE>ua</span> is able to use <span class=SpellE>stdcall</span> and <span
class=SpellE>cdecl</span> C functions as well as allowing different structure
member alignment settings. <st1:State><st1:place><span class=SpellE>CaL</span></st1:place></st1:State><span
class=SpellE>ua</span> 2.0 adds <span class=SpellE>Lua</span> functions for
working with arrays, and functions for converting <span class=SpellE>Lua</span>/C
data to other forms of <span class=SpellE>Lua</span>/C data. <span
class=SpellE>CaLua</span> 2.0 also adds support for signed/unsigned data types,
as well as better error reporting and debugging tools. <st1:State><st1:place><span
  class=SpellE>CaL</span></st1:place></st1:State><span class=SpellE>ua</span>
2.0 also adds hash tables and AVL trees to its back-end for quicker look-ups.</p>

<p class=Style11ptFirstline05 style='text-indent:0in'><o:p>&nbsp;</o:p></p>

<p class=Style11ptFirstline05 style='text-indent:0in'><b><i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Starting Up <span
class=SpellE>CaLua</span> <span class=GramE>And</span> Loading Scripts<o:p></o:p></span></i></b></p>

<p class=Style11ptFirstline05 style='text-indent:0in'><b><i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></i></b></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:12.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>Starting
up <span class=SpellE>CaLua</span> starts up <span class=SpellE>Lua</span>,
creates a virtual machine, starts the error reporting system and registers all
the <span class=SpellE>CaLua</span> <span class=SpellE>Lua</span> functions.
Shutting down <span class=SpellE>CaLua</span> releases all it’s resources, unloads
all the loaded scripts, and shuts down <span class=SpellE>Lua</span> and the
virtual machine.<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:12.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes;height:144.25pt'>
  <td width=351 valign=top style='width:262.95pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt;height:144.25pt'>
  <p class=MsoNormal><b><span style='font-size:8.0pt;mso-bidi-font-size:12.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>Ex 1 </span></b><st1:State><st1:place><span
    class=SpellE><b><span style='font-size:8.0pt;mso-bidi-font-size:12.0pt;
    font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>CaL</span></b></span></st1:place></st1:State><span
  class=SpellE><b><span style='font-size:8.0pt;mso-bidi-font-size:12.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>ua</span></b></span><b><span
  style='font-size:8.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";
  mso-bidi-font-family:"Times New Roman"'> startup and shutdown<o:p></o:p></span></b></p>
  <p class=MsoNormal><b><span style='font-size:8.0pt;mso-bidi-font-size:12.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></b></p>
  <p class=MsoNormal><span style='font-size:8.0pt;mso-bidi-font-size:12.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>--begin <span
  class=SpellE>hello.lua</span>—<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;mso-bidi-font-size:12.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>function <span
  class=SpellE>donothing</span>()<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;mso-bidi-font-size:12.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'><span
  style='mso-tab-count:1'>       </span>while true do<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;mso-bidi-font-size:12.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'><span
  style='mso-tab-count:2'>              </span>print(“Something has gone
  wrong”);<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;mso-bidi-font-size:12.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'><span
  style='mso-tab-count:1'>       </span>end<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;mso-bidi-font-size:12.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>end<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;mso-bidi-font-size:12.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>print(“Hello
  <span class=SpellE>Lua</span> world”);<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;mso-bidi-font-size:12.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>--end <span
  class=SpellE>hello.lua</span>—<o:p></o:p></span></p>
  <p class=MsoNormal><span class=SpellE><span style='font-size:8.0pt;
  mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-bidi-font-family:
  "Times New Roman"'>CLU_Init</span></span><span style='font-size:8.0pt;
  mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-bidi-font-family:
  "Times New Roman"'>();<o:p></o:p></span></p>
  <p class=MsoNormal><span class=SpellE><span style='font-size:8.0pt;
  mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-bidi-font-family:
  "Times New Roman"'>CLU_LoadScript</span></span><span style='font-size:8.0pt;
  mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-bidi-font-family:
  "Times New Roman"'>(“<span class=SpellE>hello.lua</span>”);<o:p></o:p></span></p>
  <p class=MsoNormal><span class=SpellE><span style='font-size:8.0pt;
  mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-bidi-font-family:
  "Times New Roman"'>CLU_Shutdown</span></span><span style='font-size:8.0pt;
  mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-bidi-font-family:
  "Times New Roman"'>();<b><o:p></o:p></b></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:12.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:12.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>Loading
a script will load it into the </span><st1:State><st1:place><span class=SpellE><span
  style='font-size:11.0pt;mso-bidi-font-size:12.0pt;mso-bidi-font-weight:bold;
  mso-bidi-font-style:italic'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:12.0pt;
mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>ua</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:12.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'> virtual machine, and run its ‘main’ function. A <span
class=SpellE>Lua</span> script’s ‘main’ function is any code that is not inside
function tags. Any compilation or interpreting errors are reported by the </span><st1:State><st1:place><span
  class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:12.0pt;
  mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:12.0pt;
mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>ua</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:12.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'> error reporting system.<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;mso-bidi-font-size:12.0pt;
mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:12.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>So,
all that is printed here is “Hello <span class=SpellE>Lua</span> world”. Notice
how the function <span class=SpellE><span class=GramE>donothing</span></span><span
class=GramE>(</span>) is not called, but is available to be called from a C
program later on. All you need to load a script into </span><st1:State><st1:place><span
  class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:12.0pt;
  mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:12.0pt;
mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>ua</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:12.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'> is the path and filename of the script.<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><b><span style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></b></p>

</div>

<span style='font-size:11.0pt;mso-bidi-font-size:10.0pt;font-family:"Times New Roman";
mso-fareast-font-family:"Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:AR-SA'><br clear=all style='page-break-before:always;
mso-break-type:section-break'>
</span>

<div class=Section3>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:11.0pt'>C
Data Types <span class=GramE>In</span> <span class=SpellE>CaLua</span><o:p></o:p></span></i></b></p>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:11.0pt'><o:p>&nbsp;</o:p></span></i></b></p>

<p class=Style11ptFirstline05><span class=SpellE>CaLua</span> works by
describing C structures and C functions. You describe C functions and
structures by telling what sort of data types they are composed of for
structures, or what sort of data is passed as arguments and returned, for functions.
The following are all the data types in <span class=SpellE><span class=GramE>CaLua</span></span><span
class=GramE>,</span> their corresponding C data type should be fairly obvious.</p>

<p class=Style11ptFirstline05><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt'>char</span></span><span style='font-size:11.0pt'>, <span
class=SpellE>uchar</span>, short, <span class=SpellE>ushort</span>, <span
class=SpellE>int</span>, <span class=SpellE>uint</span>, float, double, <span
class=SpellE>ptr</span>, <span class=SpellE><i style='mso-bidi-font-style:normal'>reg_structure</i></span><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt'>char</span></span><span style='font-size:11.0pt'>*, <span
class=SpellE>uchar</span>*, short*, <span class=SpellE>ushort</span>*, <span
class=SpellE>int</span>*, <span class=SpellE>uint</span>*, float*, double*, <span
class=SpellE>ptr</span>*, <span class=SpellE><i style='mso-bidi-font-style:
normal'>reg_structure</i></span><i style='mso-bidi-font-style:normal'>*<o:p></o:p></i></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt'><o:p>&nbsp;</o:p></span></i></p>

<p class=Style11ptFirstline05>The ‘u’ in front of the integral data types means
that it’s an unsigned data type. The asterisk after the data <span class=GramE>type,</span>
means that it’s a pointer to that data type. All pointers are treated the same,
with the exception of the char*, which is treated as a string in some
situations rather than a pointer to a single byte value. Specifying ‘<span
class=SpellE>ptr</span>’ is like the void* in C, it is just a raw pointer, whose
type is not important. This is useful for hiding certain data types that are
unnecessary to expose to <span class=SpellE>Lua</span> scripts.</p>

<p class=Style11ptFirstline05><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-indent:.5in'><span class=SpellE><span
class=GramE><i style='mso-bidi-font-style:normal'><span style='font-size:11.0pt'>reg_structure</span></i></span></span><span
style='font-size:11.0pt'> is a structure that has been previously registered to
</span><st1:State><st1:place><span class=SpellE><span style='font-size:11.0pt'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt'>ua</span></span><span
style='font-size:11.0pt'>. You wouldn’t type <span class=SpellE><i
style='mso-bidi-font-style:normal'>reg_structure</i></span>, but rather, you
would type the name that you gave the structure when registering it. A pointer
to a registered structure, as stated above, is just treated like an ordinary
pointer.<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:11.0pt'>Registering
</span></i></b><st1:Street><st1:address><b><i><span style='font-size:14.0pt;
  mso-bidi-font-size:11.0pt'>C St</span></i></b></st1:address></st1:Street><b><i><span
style='font-size:14.0pt;mso-bidi-font-size:11.0pt'>ructures<o:p></o:p></span></i></b></p>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:11.0pt'><o:p>&nbsp;</o:p></span></i></b></p>

<p class=Style11ptFirstline05>Passing simple data types, such as <span
class=SpellE>ints</span> and floats to and from <span class=SpellE>Lua</span>
is a trivial matter with just the <span class=SpellE>Lua</span> API and is very
easily done with <st1:State><st1:place><span class=SpellE>CaL</span></st1:place></st1:State><span
class=SpellE>ua</span>. It’s passing complex data types, such as structures, or
structures with nested structures, that causes most of the headaches with the <span
class=SpellE>Lua</span> API. <st1:State><st1:place><span class=SpellE>CaL</span></st1:place></st1:State><span
class=SpellE>ua</span> makes passing structures just as easy as passing simple
data types. To register any given structure, <st1:State><st1:place><span
  class=SpellE>CaL</span></st1:place></st1:State><span class=SpellE>ua</span>
must know the following 3 things:</p>

<p class=Style11ptFirstline05><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.75in;text-indent:-.25in;mso-list:l1 level1 lfo1;
tab-stops:list .75in'><![if !supportLists]><span style='font-size:11.0pt'><span
style='mso-list:Ignore'>a)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:11.0pt'>A name that
you’ve given the structure, such as ‘Player’ or ‘Car’.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.75in;text-indent:-.25in;mso-list:l1 level1 lfo1;
tab-stops:list .75in'><![if !supportLists]><span style='font-size:11.0pt'><span
style='mso-list:Ignore'>b)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:11.0pt'>The type of C
data that makes up this structure, such as ‘<span class=SpellE>int</span>’ or
‘float’.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.75in;text-indent:-.25in;mso-list:l1 level1 lfo1;
tab-stops:list .75in'><![if !supportLists]><span style='font-size:11.0pt'><span
style='mso-list:Ignore'>c)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:11.0pt'>The names that
you’ve given the different members, such as ‘<span class=SpellE>player_name</span>’.<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Style11ptFirstline05>The name that you give <span class=GramE>it,</span>
is just that, a name. It can be anything of your choosing, but using the same
name as the one in your structures C declaration is a good idea. This name will
be used later on for registering other structures which may have this structure
as a data element, making calls to <span class=SpellE>Lua</span> functions,
using the <span class=SpellE>CaLua</span> <span class=SpellE>Lua</span> array
handling functions, etc <span class=SpellE>etc</span>.</p>

<p class=Style11ptFirstline05><o:p>&nbsp;</o:p></p>

<p class=Style11ptFirstline05>When specifying the C data types that make up the
structure it is very important to give the data in the order in which it
appears in the C declaration, since this affects the structure member
alignment. As stated above, the data types can be any C data type, or any
previously registered C structure.</p>

<p class=Style11ptFirstline05><o:p>&nbsp;</o:p></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes;height:170.95pt'>
  <td width=506 valign=top style='width:379.55pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt;height:170.95pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:8.0pt;font-family:"Courier New"'>Ex. 2 Registering A Simple
  Structure<o:p></o:p></span></b></p>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:8.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></b></p>
  <p class=MsoNormal><span class=SpellE><span style='font-size:8.0pt;
  font-family:"Courier New"'>typedef</span></span><span style='font-size:8.0pt;
  font-family:"Courier New"'> <span class=SpellE>struct</span> </span><st1:place><span
   style='font-size:8.0pt;font-family:"Courier New"'>Po</span></st1:place><span
  style='font-size:8.0pt;font-family:"Courier New"'>int<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'>{<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><span
  style='mso-tab-count:1'>       </span>double x;<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><span
  style='mso-tab-count:1'>       </span>double y;<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'>} </span><st1:place><span
   style='font-size:8.0pt;font-family:"Courier New"'>Po</span></st1:place><span
  style='font-size:8.0pt;font-family:"Courier New"'>int;<o:p></o:p></span></p>
  <p class=MsoNormal><span class=SpellE><span style='font-size:8.0pt;
  font-family:"Courier New"'>typedef</span></span><span style='font-size:8.0pt;
  font-family:"Courier New"'> <span class=SpellE>struct</span> Player<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'>{<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><span
  style='mso-tab-count:1'>       </span>char* name;<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><span
  style='mso-tab-count:1'>       </span><span class=SpellE>int</span> <span
  class=SpellE>hitPoints</span>;<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><span
  style='mso-tab-count:1'>       </span><span class=SpellE>int</span> <span
  class=SpellE>magicPoints</span>;<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><span
  style='mso-tab-count:1'>       </span></span><st1:place><span
   style='font-size:8.0pt;font-family:"Courier New"'>Po</span></st1:place><span
  style='font-size:8.0pt;font-family:"Courier New"'>int pos;<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'>}Player;<o:p></o:p></span></p>
  <p class=MsoNormal><span class=SpellE><span style='font-size:8.0pt;
  font-family:"Courier New"'>CLU_RegisterStructure</span></span><span
  style='font-size:8.0pt;font-family:"Courier New"'>(“<span class=SpellE>Point”,”double:x,double:y</span>”);<o:p></o:p></span></p>
  <p class=MsoNormal><span class=SpellE><span style='font-size:8.0pt;
  font-family:"Courier New"'>CLU_RegisterStructure</span></span><span
  style='font-size:8.0pt;font-family:"Courier New"'>(“<span class=SpellE>Player”,”char</span>*:<span
  class=SpellE>name,int:hp,int:mp,</span></span><st1:place><span class=SpellE><span
   style='font-size:8.0pt;font-family:"Courier New"'>Po</span></span></st1:place><span
  class=SpellE><span style='font-size:8.0pt;font-family:"Courier New"'>int:pos</span></span><span
  style='font-size:8.0pt;font-family:"Courier New"'>”);<b style='mso-bidi-font-weight:
  normal'><o:p></o:p></b></span></p>
  </td>
 </tr>
</table>

<p class=Style11ptFirstline05><o:p>&nbsp;</o:p></p>

<p class=Style11ptFirstline05>The structures member names can be whatever you
want. The member names you <span class=GramE>give,</span> will be the member
names of <span class=SpellE>Lua</span> tables of this structure type. Here is a
quick example of registering a table that might hold player information in a
game.</p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=Style11ptFirstline05>We first register a structure called Point, which
contains <span class=GramE>two</span> doubles called x and y. The next line we
register our Player structure, but to save the designer some typing, we decide
to call <span class=SpellE>hitPoints</span>, hp, so in <span class=SpellE>Lua</span>
scripts the designer would set the <span class=SpellE>hitPoints</span> by
saying player1.hp = 70. Notice as well how all of the member data comes in the
same order as in the C declaration above. In the declaration of Player we are
able to use the type Point as a structure member, because we defined it above,
so it is now known to <st1:State><st1:place><span class=SpellE>CaL</span></st1:place></st1:State><span
class=SpellE>ua</span>. The designer would reference the players position as
player1.pos.x = 75.3.</p>

<p class=Style11ptFirstline05><o:p>&nbsp;</o:p></p>

<p class=Style11ptFirstline05>The C data type must immediately be followed by a
colon and immediately followed by the member name.</p>

<p class=Style11ptFirstline05><b><i><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'><o:p>&nbsp;</o:p></span></i></b></p>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'>Registering
C Functions<o:p></o:p></span></i></b></p>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:12.0pt'><o:p>&nbsp;</o:p></span></i></b></p>

<p class=Style11ptFirstline05><st1:State><st1:place><span class=SpellE>CaL</span></st1:place></st1:State><span
class=SpellE>ua’s</span> real power is in taking the <span class=SpellE>hastle</span>
out of calling C functions from <span class=SpellE>Lua</span>. When you call a
C function from <span class=SpellE>Lua</span>, you need only the name with
which you registered the C function with <st1:State><st1:place><span
  class=SpellE>CaL</span></st1:place></st1:State><span class=SpellE>ua</span>,
and then the list of arguments which will be passed to the C function. From the
perspective of the C function, it has no idea that it is being called from <span
class=SpellE>Lua</span>, and no calls to <span class=SpellE>CaLua</span> have
to be made inside the function. The call is made in the exact same way as a
call from another C function. <span class=SpellE>CaLua</span> takes care to
translate the <span class=SpellE>Lua</span> types to C types, and then
translate the returned C type, back into a <span class=SpellE>Lua</span> type.
To register a C function with <st1:State><st1:place><span class=SpellE>CaL</span></st1:place></st1:State><span
class=SpellE>ua</span>, which subsequently exposes it to <span class=SpellE>Lua</span>
scripts, you need to specify the <span class=GramE>following :</span></p>

<p class=Style11ptFirstline05><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.75in;text-indent:-.25in;mso-list:l0 level1 lfo2;
tab-stops:list .75in'><![if !supportLists]><span style='font-size:11.0pt'><span
style='mso-list:Ignore'>a)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:11.0pt'>The name with
which to register the function, such as “<span class=SpellE>FastSqrt</span>” or
“<span class=SpellE>CreatePlayer</span>”.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.75in;text-indent:-.25in;mso-list:l0 level1 lfo2;
tab-stops:list .75in'><![if !supportLists]><span style='font-size:11.0pt'><span
style='mso-list:Ignore'>b)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:11.0pt'>The <span
class=SpellE>CaLua</span> C data type of the return value, or NULL if none<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.75in;text-indent:-.25in;mso-list:l0 level1 lfo2;
tab-stops:list .75in'><![if !supportLists]><span style='font-size:11.0pt'><span
style='mso-list:Ignore'>c)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:11.0pt'>The <span
class=SpellE>CaLua</span> C data types of the arguments.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.75in;text-indent:-.25in;mso-list:l0 level1 lfo2;
tab-stops:list .75in'><![if !supportLists]><span style='font-size:11.0pt'><span
style='mso-list:Ignore'>d)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:11.0pt'>The functions
calling convention.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.75in;text-indent:-.25in;mso-list:l0 level1 lfo2;
tab-stops:list .75in'><![if !supportLists]><span style='font-size:11.0pt'><span
style='mso-list:Ignore'>e)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:11.0pt'>A pointer to the
function.<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt'><o:p>&nbsp;</o:p></span></p>

<div style='mso-element:frame;mso-element-frame-width:459.9pt;mso-element-frame-height:
98.7pt;mso-element-frame-hspace:9.35pt;mso-element-wrap:no-wrap-beside;
mso-element-anchor-vertical:page;mso-element-anchor-horizontal:column;
mso-element-top:top;mso-height-rule:exactly'>

<table cellspacing=0 cellpadding=0 hspace=0 vspace=0 width=626 height=132>
 <tr>
  <td valign=top align=left height=132 style='padding-top:0in;padding-right:
  9.35pt;padding-bottom:0in;padding-left:9.35pt'>
  <div style='border:solid black 1.0pt;mso-border-alt:solid black .75pt;
  padding:4.0pt 7.0pt 4.0pt 7.0pt;background:white;mso-shading:white;
  mso-pattern:solid white'>
  <p class=MsoNormal style='background:white;mso-shading:white;mso-pattern:
  solid white;border:none;mso-border-alt:solid black .75pt;padding:0in;
  mso-padding-alt:4.0pt 7.0pt 4.0pt 7.0pt;mso-element:frame;mso-element-frame-width:
  459.9pt;mso-element-frame-height:98.7pt;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:page;mso-element-anchor-horizontal:
  column;mso-element-top:top;mso-height-rule:exactly'><b style='mso-bidi-font-weight:
  normal'><span style='font-size:8.0pt;font-family:"Courier New"'>Ex. 3 <span
  class=GramE>Registering</span> a simple function<o:p></o:p></span></b></p>
  <p class=MsoNormal style='background:white;mso-shading:white;mso-pattern:
  solid white;border:none;mso-border-alt:solid black .75pt;padding:0in;
  mso-padding-alt:4.0pt 7.0pt 4.0pt 7.0pt;mso-element:frame;mso-element-frame-width:
  459.9pt;mso-element-frame-height:98.7pt;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:page;mso-element-anchor-horizontal:
  column;mso-element-top:top;mso-height-rule:exactly'><b style='mso-bidi-font-weight:
  normal'><span style='font-size:8.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></b></p>
  <p class=MsoNormal style='background:white;mso-shading:white;mso-pattern:
  solid white;border:none;mso-border-alt:solid black .75pt;padding:0in;
  mso-padding-alt:4.0pt 7.0pt 4.0pt 7.0pt;mso-element:frame;mso-element-frame-width:
  459.9pt;mso-element-frame-height:98.7pt;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:page;mso-element-anchor-horizontal:
  column;mso-element-top:top;mso-height-rule:exactly'><span class=GramE><span
  style='font-size:8.0pt;font-family:"Courier New"'>double</span></span><span
  style='font-size:8.0pt;font-family:"Courier New"'> Distance(Point a, </span><st1:place><span
   style='font-size:8.0pt;font-family:"Courier New"'>Po</span></st1:place><span
  style='font-size:8.0pt;font-family:"Courier New"'>int b)<o:p></o:p></span></p>
  <p class=MsoNormal style='background:white;mso-shading:white;mso-pattern:
  solid white;border:none;mso-border-alt:solid black .75pt;padding:0in;
  mso-padding-alt:4.0pt 7.0pt 4.0pt 7.0pt;mso-element:frame;mso-element-frame-width:
  459.9pt;mso-element-frame-height:98.7pt;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:page;mso-element-anchor-horizontal:
  column;mso-element-top:top;mso-height-rule:exactly'><span style='font-size:
  8.0pt;font-family:"Courier New"'>{<o:p></o:p></span></p>
  <p class=MsoNormal style='background:white;mso-shading:white;mso-pattern:
  solid white;border:none;mso-border-alt:solid black .75pt;padding:0in;
  mso-padding-alt:4.0pt 7.0pt 4.0pt 7.0pt;mso-element:frame;mso-element-frame-width:
  459.9pt;mso-element-frame-height:98.7pt;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:page;mso-element-anchor-horizontal:
  column;mso-element-top:top;mso-height-rule:exactly'><span style='font-size:
  8.0pt;font-family:"Courier New"'><span style='mso-tab-count:1'>       </span><span
  class=GramE>return(</span><span class=SpellE>sqrt</span>( SQUARE(<span
  class=SpellE>a.x-b.x</span>) + SQUARE(<span class=SpellE>a.y-b.y</span>)));<o:p></o:p></span></p>
  <p class=MsoNormal style='background:white;mso-shading:white;mso-pattern:
  solid white;border:none;mso-border-alt:solid black .75pt;padding:0in;
  mso-padding-alt:4.0pt 7.0pt 4.0pt 7.0pt;mso-element:frame;mso-element-frame-width:
  459.9pt;mso-element-frame-height:98.7pt;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:page;mso-element-anchor-horizontal:
  column;mso-element-top:top;mso-height-rule:exactly'><span style='font-size:
  8.0pt;font-family:"Courier New"'>}<o:p></o:p></span></p>
  <p class=MsoNormal style='background:white;mso-shading:white;mso-pattern:
  solid white;border:none;mso-border-alt:solid black .75pt;padding:0in;
  mso-padding-alt:4.0pt 7.0pt 4.0pt 7.0pt;mso-element:frame;mso-element-frame-width:
  459.9pt;mso-element-frame-height:98.7pt;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:page;mso-element-anchor-horizontal:
  column;mso-element-top:top;mso-height-rule:exactly'><span style='font-size:
  8.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal style='background:white;mso-shading:white;mso-pattern:
  solid white;border:none;mso-border-alt:solid black .75pt;padding:0in;
  mso-padding-alt:4.0pt 7.0pt 4.0pt 7.0pt;mso-element:frame;mso-element-frame-width:
  459.9pt;mso-element-frame-height:98.7pt;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:page;mso-element-anchor-horizontal:
  column;mso-element-top:top;mso-height-rule:exactly'><span class=SpellE><span
  style='font-size:8.0pt;font-family:"Courier New"'>CLU_<span class=GramE>RegisterFunction</span></span></span><span
  class=GramE><span style='font-size:8.0pt;font-family:"Courier New"'>(</span></span><span
  style='font-size:8.0pt;font-family:"Courier New"'>“<span class=SpellE>Dist”,”double”,”Point,Point”,CLU_CDECL,CLU_CAST</span>(Distance));<o:p></o:p></span></p>
  </div>
  </td>
 </tr>
</table>

</div>

<p class=Style11ptFirstline05><o:p>&nbsp;</o:p></p>

<p class=Style11ptFirstline05>Assuming you’ve read how to register structures,
all of this should seem fairly intuitive. The registration name can be anything
you want, and will be the name with which it is <span class=SpellE>refered</span>
to when making calls from <span class=SpellE>Lua</span> scripts. Since C
functions only return one argument, only one <span class=SpellE>CaLua</span> C
data type is allowed in the registration. The list of arguments is simply a
comma separated list of <span class=SpellE>CaLua</span> C data types. <span
class=SpellE>CaLua</span> supports both <span class=SpellE>stdcall</span> and <span
class=SpellE>cdecl</span> calling conventions. C compilers usually default to <span
class=SpellE>cdecl</span>, so if you’re not sure, just assume a function is
using <span class=SpellE>cdecl</span>. <st1:State><st1:place><span
  class=SpellE>CaL</span></st1:place></st1:State><span class=SpellE>ua</span>
supplies a macro for type casting the function pointer. Here is an example
which extends example 1.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='font-size:8.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt'>The function will be known as Dist to our <span
class=SpellE>Lua</span> scripts, and because we’ve previously registered Point
to <span class=SpellE>CaLua</span>, we can use it in this registration. The
function is a <span class=SpellE>cdecl</span> function, as is the compilers
default type, and we use the CLU_CAST macro, which takes the functions C name
as it’s only argument.<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt'><o:p>&nbsp;</o:p></span></p>

</div>

<span style='font-size:11.0pt;mso-bidi-font-size:8.0pt;font-family:"Times New Roman";
mso-fareast-font-family:"Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:AR-SA'><br clear=all style='page-break-before:always;
mso-break-type:section-break'>
</span>

<div class=Section4>

<p class=MsoNormal><st1:State><st1:place><b><i><span style='font-size:14.0pt;
  mso-bidi-font-size:8.0pt'>Cal</span></i></b></st1:place></st1:State><b><i><span
style='font-size:14.0pt;mso-bidi-font-size:8.0pt'>ling <span class=SpellE>Lua</span>
functions from C<o:p></o:p></span></i></b></p>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:8.0pt'><o:p>&nbsp;</o:p></span></i></b></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes;height:263.55pt'>
  <td width=792 valign=top style='width:594.05pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt;height:263.55pt'>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><b><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman"'>Ex 4 Calling a <span
  class=SpellE>Lua</span> function from C and receiving multiple return values<o:p></o:p></span></b></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><b><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></b></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
  bold'>--Begin <span class=SpellE>test.lua</span>—<o:p></o:p></span></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
  bold'>-- Takes in two players and returns the name of the healthiest player<o:p></o:p></span></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
  bold'>-- and the distance between the two<o:p></o:p></span></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
  bold'>function <span class=SpellE>GetHealthiestPlayer</span>(<span
  class=SpellE>a,b</span>)<o:p></o:p></span></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
  bold'><span style='mso-tab-count:1'>       </span>if(<span class=SpellE>a.hp</span>
  &gt; <span class=SpellE>b.hp</span>)<o:p></o:p></span></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
  bold'><span style='mso-tab-count:2'>              </span>r = <span
  class=SpellE>a.name</span>;<o:p></o:p></span></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
  bold'><span style='mso-tab-count:1'>       </span>else<o:p></o:p></span></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
  bold'><span style='mso-tab-count:2'>              </span>r = <span
  class=SpellE>b.name</span>;<o:p></o:p></span></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
  bold'><span style='mso-tab-count:1'>       </span>d = <span class=SpellE>CLU_Call</span>(“<span
  class=SpellE>Distance”,a.pos,b.pos</span>);<o:p></o:p></span></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
  bold'>return <span class=SpellE>r,d</span>;<o:p></o:p></span></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
  bold'>end<o:p></o:p></span></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
  bold'>--end <span class=SpellE>test.lua</span><o:p></o:p></span></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><span class=SpellE><span style='font-size:
  8.0pt;font-family:"Courier New";mso-bidi-font-family:"Times New Roman";
  mso-bidi-font-weight:bold'>typedef</span></span><span style='font-size:8.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
  bold'> <span class=SpellE>struct</span> <span class=SpellE>RetType</span><o:p></o:p></span></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
  bold'>{<o:p></o:p></span></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
  bold'><span style='mso-tab-count:1'>       </span>char* name;<o:p></o:p></span></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
  bold'><span style='mso-tab-count:1'>       </span>double dist;<o:p></o:p></span></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
  bold'>} <span class=SpellE>RetType</span>;<o:p></o:p></span></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
  bold'>Player player1, player2;<o:p></o:p></span></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
  bold'>//player1 and player2 are filled out<o:p></o:p></span></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><span class=SpellE><span style='font-size:
  8.0pt;font-family:"Courier New";mso-bidi-font-family:"Times New Roman";
  mso-bidi-font-weight:bold'>RetType</span></span><span style='font-size:8.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
  bold'>* r = <span class=SpellE>CLU_CallScriptFunction</span>(“<span
  class=SpellE>GetHealthiestPlayer”,”char</span>*,<span class=SpellE>double”,”Player</span>,
  Player”,player1, player2);<span style='mso-tab-count:1'>     </span><o:p></o:p></span></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
  bold'>//use r-&gt;name and r-&gt;dist<o:p></o:p></span></p>
  <p class=MsoNormal style='mso-element:frame;mso-element-frame-hspace:9.35pt;
  mso-element-wrap:no-wrap-beside;mso-element-anchor-vertical:paragraph;
  mso-element-anchor-horizontal:page;mso-element-left:-10.15pt;mso-element-top:
  28.6pt;mso-height-rule:exactly'><span class=SpellE><span style='font-size:
  8.0pt;font-family:"Courier New";mso-bidi-font-family:"Times New Roman";
  mso-bidi-font-weight:bold'>CLU_DllFree</span></span><span style='font-size:
  8.0pt;font-family:"Courier New";mso-bidi-font-family:"Times New Roman";
  mso-bidi-font-weight:bold'>(r);<b><o:p></o:p></b></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:8.0pt'><o:p>&nbsp;</o:p></span></i></b></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>Calling
<span class=SpellE>Lua</span> functions from C can be done quite easily. The
script in which the function appears must be loaded first, and the name of the
script function to be called must be known. <span class=SpellE>Lua</span>
functions are able to return more than one argument, and as such, </span><st1:State><st1:place><span
  class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:8.0pt;
  mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:8.0pt;mso-bidi-font-weight:
bold;mso-bidi-font-style:italic'>ua</span></span><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>
allows the return of more than one argument by returning a pointer to a
structure that will contain all the arguments. The passed arguments are
described, and then passed much the same as is done with <span class=SpellE><span
class=GramE>printf</span></span><span class=GramE>(</span>). </span><st1:State><st1:place><span
  class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:8.0pt;
  mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:8.0pt;mso-bidi-font-weight:
bold;mso-bidi-font-style:italic'>ua</span></span><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>
converts the C data types into <span class=SpellE>Lua</span> data types as
follows; char* is converted to a <span class=SpellE>Lua</span> string, a
pointer of any other sort is converted to light user data, any numerical type
(char, <span class=SpellE>short,int,float,double</span>) are all converted to <span
class=SpellE>Lua</span> numbers, and registered structures are converted to <span
class=SpellE>Lua</span> tables. The following builds on previous examples. <o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:bold'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt;mso-bidi-font-weight:bold'>Ignore the calls to <span
class=SpellE>CLU_<span class=GramE>Call</span></span><span class=GramE>(</span>),
although it should be fairly intuitive what is happening. The second argument
to <span class=SpellE>CLU_<span class=GramE>CallScriptFunction</span></span><span
class=GramE>(</span>) is a description of what the structure returned should
look like. If one data type is specified, then a pointer of that type is
returned. In any case, the pointer that is returned must be freed using <span
class=SpellE>CLU_<span class=GramE>DllFree</span></span><span class=GramE>(</span>).
Errors in translating from <span class=SpellE>Lua</span> to C data and vice
versa will be recorded in the error logs, and the <span class=GramE>program
will</span> <span class=SpellE>hault</span>.<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;mso-bidi-font-size:8.0pt;
mso-bidi-font-weight:bold'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:8.0pt'>Multiple
</span></i></b><st1:place><st1:PlaceName><span class=SpellE><b><i><span
  style='font-size:14.0pt;mso-bidi-font-size:8.0pt'>CaLua</span></i></b></span></st1:PlaceName><b><i><span
 style='font-size:14.0pt;mso-bidi-font-size:8.0pt'> </span></i></b><st1:PlaceType><b><i><span
  style='font-size:14.0pt;mso-bidi-font-size:8.0pt'>State</span></i></b></st1:PlaceType></st1:place><b><i><span
style='font-size:14.0pt;mso-bidi-font-size:8.0pt'>s<o:p></o:p></span></i></b></p>

<p class=MsoNormal><span style='font-size:11.0pt;mso-bidi-font-size:8.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt;mso-bidi-font-weight:bold'>There are times when having
scripts loaded into different virtual machines makes sense. Loading up a <span
class=SpellE>config</span> file, doesn’t require having all your structures and
C functions available to it, you just want to call a <span class=SpellE>Lua</span>
function, read back some numbers and be done with the script. <span
class=SpellE>CaLua</span> supports working with multiple <span class=SpellE>CaLua</span>
states, which <span class=GramE>means,</span> you can chose to load scripts
into different states which might have a different set of functions and
structures registered with them. <o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt;mso-bidi-font-weight:bold'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt;mso-bidi-font-weight:bold'>When working with different
states, you first call <span class=SpellE>CLU_<span class=GramE>Init</span></span><span
class=GramE>(</span>), which will create a new state and set it as the current </span><st1:State><st1:place><span
  class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:8.0pt;
  mso-bidi-font-weight:bold'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:8.0pt;mso-bidi-font-weight:
bold'>ua</span></span><span style='font-size:11.0pt;mso-bidi-font-size:8.0pt;
mso-bidi-font-weight:bold'> state. Setting a state as the current <span
class=SpellE>CaLua</span> state will cause all future calls to </span><st1:State><st1:place><span
  class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:8.0pt;
  mso-bidi-font-weight:bold'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:8.0pt;mso-bidi-font-weight:
bold'>ua</span></span><span style='font-size:11.0pt;mso-bidi-font-size:8.0pt;
mso-bidi-font-weight:bold'> to alter the current state. You can change between
states by calling <span class=SpellE>CLU_<span class=GramE>LoadState</span></span><span
class=GramE>(</span>) which will change the current state. You can get the
current </span><st1:State><st1:place><span class=SpellE><span style='font-size:
  11.0pt;mso-bidi-font-size:8.0pt;mso-bidi-font-weight:bold'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:8.0pt;mso-bidi-font-weight:
bold'>ua</span></span><span style='font-size:11.0pt;mso-bidi-font-size:8.0pt;
mso-bidi-font-weight:bold'> state by calling <span class=SpellE>CLU_<span
class=GramE>GetCurrentState</span></span><span class=GramE>(</span>). You can retrieve
a pointer to the current <span class=SpellE>CaLua</span> states virtual machine
by calling <span class=SpellE>CLU_<span class=GramE>GetVirtualMachine</span></span><span
class=GramE>(</span>), which will return a <span class=SpellE>lua_State</span>*,
which can be used with normal <span class=SpellE>Lua</span> C API calls.<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt;mso-bidi-font-weight:bold'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt;mso-bidi-font-weight:bold'>To </span><st1:State><st1:place><span
  style='font-size:11.0pt;mso-bidi-font-size:8.0pt;mso-bidi-font-weight:bold'>free
  states</span></st1:place></st1:State><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt;mso-bidi-font-weight:bold'>, you call <span
class=SpellE>CLU_ShutdownState</span>(), which will free all the resources take
up by the state, <span class=SpellE>unregister</span> all structures, close all
scripts and close down the virtual machine. Calling <span class=SpellE>CLU_Shutdown</span>()
will of course close down all of <span class=SpellE>CaLua</span>, but it will also
make sure to shutdown any states you may have forgotten about.<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;mso-bidi-font-size:8.0pt;
mso-bidi-font-weight:bold'><o:p>&nbsp;</o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes;height:136.4pt'>
  <td width=614 valign=top style='width:460.45pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt;height:136.4pt'>
  <p class=MsoNormal><b><span style='font-size:8.0pt;font-family:"Courier New";
  mso-bidi-font-family:"Times New Roman"'>Ex 5 Multiple <span class=SpellE>CaLua</span>
  States<o:p></o:p></span></b></p>
  <p class=MsoNormal><span class=SpellE><span style='font-size:8.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>int</span></span><span
  style='font-size:8.0pt;font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>
  state1, state2;<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New";
  mso-bidi-font-family:"Times New Roman"'>state1 = <span class=SpellE>CLU_Init</span>();<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New";
  mso-bidi-font-family:"Times New Roman"'>state2 = <span class=SpellE>CLU_Init</span>();<o:p></o:p></span></p>
  <p class=MsoNormal><span class=SpellE><span style='font-size:8.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>CLU_LoadState</span></span><span
  style='font-size:8.0pt;font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>(state1);<o:p></o:p></span></p>
  <p class=MsoNormal><span class=SpellE><span style='font-size:8.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>CLU_RegisterStructure</span></span><span
  style='font-size:8.0pt;font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>(“<span
  class=SpellE>Car”,”char</span>*:<span class=SpellE>make,char</span>*:<span
  class=SpellE>model,double:price,short:horsepower</span>”);<o:p></o:p></span></p>
  <p class=MsoNormal><span class=SpellE><span style='font-size:8.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>CLU_LoadScript</span></span><span
  style='font-size:8.0pt;font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>(“<span
  class=SpellE>parse_car_data.lua</span>”);<o:p></o:p></span></p>
  <p class=MsoNormal><span class=SpellE><span style='font-size:8.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>CLU_LoadState</span></span><span
  style='font-size:8.0pt;font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>(state2);<o:p></o:p></span></p>
  <p class=MsoNormal><span class=SpellE><span style='font-size:8.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>CLU_RegisterStructure</span></span><span
  style='font-size:8.0pt;font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>(“<span
  class=SpellE>Volcano”,”char</span>*:<span class=SpellE>location,double:height</span>”);<o:p></o:p></span></p>
  <p class=MsoNormal><span class=SpellE><span style='font-size:8.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>CLU_LoadScript</span></span><span
  style='font-size:8.0pt;font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>(“<span
  class=SpellE>parse_volcano_data.lua</span>”);<o:p></o:p></span></p>
  <p class=MsoNormal><span class=SpellE><span style='font-size:8.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>CLU_ShutdownState</span></span><span
  style='font-size:8.0pt;font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>(state1);<o:p></o:p></span></p>
  <p class=MsoNormal><span class=SpellE><span style='font-size:8.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>CLU_Shutdown</span></span><span
  style='font-size:8.0pt;font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>();<b><o:p></o:p></b></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt'>In the above example, we create two states and store their
<span class=SpellE>CaLua</span> state reference numbers, which are just <span
class=SpellE>ints</span>. The first state is then set as the primary <span
class=SpellE>CaLua</span> state. We then register a structure, which is stored in
the current <span class=SpellE>CaLua</span> state (state1). We load a script, which
parses some car data, and is aware of the Car structure. We then set state2 as our
current <span class=SpellE>CaLua</span> state and register a Volcano structure.
We then load a script which parses some volcano data, and is aware of the Volcano
structure, but not aware of anything from state1 which, in this case, would be the
Car structure, or any <span class=SpellE>Lua</span> functions <span
class=SpellE>definined</span> in the car parsing script.</span><span
style='font-size:8.0pt;font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'><o:p></o:p></span></p>

</div>

<b><span style='font-size:8.0pt;font-family:"Courier New";mso-fareast-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-ansi-language:
EN-US;mso-fareast-language:EN-US;mso-bidi-language:AR-SA'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span></b>

<div class=Section5>

<p class=MsoNormal><span style='font-size:11.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span class=SpellE><b><i><span style='font-size:14.0pt;
mso-bidi-font-size:8.0pt'>CaLua</span></i></b></span><b><i><span
style='font-size:14.0pt;mso-bidi-font-size:8.0pt'> <span class=SpellE>Lua</span>
API<o:p></o:p></span></i></b></p>

<p class=MsoNormal><b><i><span style='font-size:11.0pt'><o:p>&nbsp;</o:p></span></i></b></p>

<p class=MsoNormal><b><i><span style='font-size:11.0pt'><o:p>&nbsp;</o:p></span></i></b></p>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:8.0pt'>Working
with <span class=SpellE>CaLua</span> Arrays<o:p></o:p></span></i></b></p>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:8.0pt'><o:p>&nbsp;</o:p></span></i></b></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>It
is assumed that the reader has some knowledge of the <span class=SpellE>Lua</span>
programming language. LUD stands for Light User Data, and is just a raw pointer
to some piece of data. A <span class=SpellE>CaLua</span> array is created by
specifying the <span class=SpellE>CaLua</span> C data type of the array, the
initialization size, and some initialization data. A table is returned which
holds important information about the array, such as each elements size, the total
amount of elements in the array, and a LUD to the actual data. With a <span
class=SpellE>CaLua</span> array you can insert new elements, </span><st1:State><st1:place><span
  style='font-size:11.0pt;mso-bidi-font-size:8.0pt;mso-bidi-font-weight:bold;
  mso-bidi-font-style:italic'>del</span></st1:place></st1:State><span
style='font-size:11.0pt;mso-bidi-font-size:8.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'>ete elements, append elements, and insert other <span
class=SpellE>CaLua</span> arrays. <span class=SpellE>CaLua</span> will do it’s
best to translate inserted data into what is expected in the array, but try to
keep in mind these rules of thumb.<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in;mso-list:l3 level1 lfo3;
tab-stops:list 1.0in'><![if !supportLists]><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><span
style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:11.0pt;mso-bidi-font-size:
8.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>Arrays of pointers
can only accept LUD.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in;mso-list:l3 level1 lfo3;
tab-stops:list 1.0in'><![if !supportLists]><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><span
style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:11.0pt;mso-bidi-font-size:
8.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>Arrays of char* can
accept strings or LUD.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in;mso-list:l3 level1 lfo3;
tab-stops:list 1.0in'><![if !supportLists]><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><span
style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:11.0pt;mso-bidi-font-size:
8.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>Arrays of numbers
can only accept numbers or Booleans.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in;mso-list:l3 level1 lfo3;
tab-stops:list 1.0in'><![if !supportLists]><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><span
style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:11.0pt;mso-bidi-font-size:
8.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>Arrays of
structures can only accept tables.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in;mso-list:l3 level1 lfo3;
tab-stops:list 1.0in'><![if !supportLists]><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><span
style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:11.0pt;mso-bidi-font-size:
8.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>Arrays of structure
pointers are the same as arrays of normal pointers, that is, they can only
accept LUD.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in;mso-list:l3 level1 lfo3;
tab-stops:list 1.0in'><![if !supportLists]><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><span
style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:11.0pt;mso-bidi-font-size:
8.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>When inserting <span
class=SpellE>CaLua</span> arrays into other <span class=SpellE>CaLua</span> arrays,
the arrays must be the same type.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.75in'><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes;height:103.8pt'>
  <td width=879 valign=top style='width:659.2pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt;height:103.8pt'>
  <p class=MsoNormal><b><span style='font-size:8.0pt;font-family:"Courier New";
  mso-bidi-font-family:"Times New Roman"'>Ex 5 Catching arrays<o:p></o:p></span></b></p>
  <p class=MsoNormal><b><span style='font-size:8.0pt;font-family:"Courier New";
  mso-bidi-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></b></p>
  <p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New";
  mso-bidi-font-family:"Times New Roman"'>--Begin <span class=SpellE>catch.lua</span>—<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New";
  mso-bidi-font-family:"Times New Roman"'>a = <span class=SpellE>CLU_Array_Create</span>(“int”,7,{45,25,63,42,75,14,91});
  --Initialize array with some data<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New";
  mso-bidi-font-family:"Times New Roman"'>a = <span class=SpellE>CLU_Array_Delete</span>(a,1,3);<span
  style='mso-tab-count:4'>                           </span> --Delete
  ‘25’,’63’,’42’<o:p></o:p></span></p>
  <p class=MsoNormal><span class=SpellE><span style='font-size:8.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>CLU_Array_<span
  class=GramE>Append</span></span></span><span class=GramE><span
  style='font-size:8.0pt;font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>(</span></span><span
  style='font-size:8.0pt;font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>a,65);<span
  style='mso-tab-count:1'>    </span><span
  style='mso-spacerun:yes'>                       </span>--<span class=SpellE>Ohh</span>
  no! ‘<span class=GramE>a</span>’ is not caught after the array operation!<o:p></o:p></span></p>
  <p class=MsoNormal><span class=GramE><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman"'>num</span></span><span
  style='font-size:8.0pt;font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>
  = <span class=SpellE>CLU_Array_Get</span>(a,3);<span style='mso-tab-count:
  2'>         </span><span style='mso-spacerun:yes'>               </span><span
  style='mso-spacerun:yes'> </span>--Will generate an error, since ‘a’ wasn’t
  caught!<o:p></o:p></span></p>
  <p class=MsoNormal><span class=GramE><span style='font-size:8.0pt;font-family:
  "Courier New";mso-bidi-font-family:"Times New Roman"'>print(</span></span><span
  style='font-size:8.0pt;font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>“Number
  at array index 3 is” ..num);<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New";
  mso-bidi-font-family:"Times New Roman"'>--End <span class=SpellE>catch.lua</span>--</span><span
  style='font-size:11.0pt;mso-bidi-font-size:8.0pt;mso-bidi-font-weight:bold;
  mso-bidi-font-style:italic'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:8.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>Errors
in translating will be reported by the error logging system. When operating
with <o:p></o:p></span></p>

<p class=MsoNormal><span class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:
8.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>CaLua</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:8.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'> <span class=GramE>arrays,</span> make sure that
you catch the returned <span class=SpellE>CaLua</span> array of the operation.
It’s not possible to put data from C directly into a <span class=SpellE>Lua</span>
variable, so the updated arrays must be returned. If you attempt to use an
array that has been operated on and not caught, an error will be generated, and
the script will <span class=SpellE>hault</span>.<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i><span style='font-size:16.0pt;
mso-bidi-font-size:10.0pt;font-family:Arial'><o:p>&nbsp;</o:p></span></i></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:10.0pt;mso-bidi-font-style:italic'>See the <span
class=SpellE><i>CaLua</i></span><i> <span class=SpellE>Lua</span> API Reference</i>
for which array functions return new arrays<span class=GramE>..</span><o:p></o:p></span></p>

</div>

<span style='font-size:11.0pt;mso-bidi-font-size:10.0pt;font-family:"Times New Roman";
mso-fareast-font-family:"Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:AR-SA;mso-bidi-font-style:italic'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=Section6>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Working
with LUD<o:p></o:p></span></i></b></p>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></i></b></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes;height:92.95pt'>
  <td width=410 valign=top style='width:307.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt;height:92.95pt'>
  <p class=MsoNormal><b><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>Ex 6
  Updating LUD<o:p></o:p></span></b></p>
  <p class=MsoNormal><b><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></b></p>
  <p class=MsoNormal><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>--Begin <span
  class=SpellE>updatlud.lua</span>—<o:p></o:p></span></p>
  <p class=MsoNormal><span class=SpellE><span style='font-size:8.0pt;
  mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-bidi-font-family:
  "Times New Roman"'>player_lud</span></span><span style='font-size:8.0pt;
  mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-bidi-font-family:
  "Times New Roman"'> = <span class=SpellE>CLU_Call</span>(“<span class=SpellE>GetHealthiestPlayer</span>”);<o:p></o:p></span></p>
  <p class=MsoNormal><span class=SpellE><span style='font-size:8.0pt;
  mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-bidi-font-family:
  "Times New Roman"'>player_tab</span></span><span style='font-size:8.0pt;
  mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-bidi-font-family:
  "Times New Roman"'> = CLU_LUD2Table(<span class=SpellE>player_lud,”Player</span>”);<o:p></o:p></span></p>
  <p class=MsoNormal><span class=SpellE><span style='font-size:8.0pt;
  mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-bidi-font-family:
  "Times New Roman"'>player_tab.hp</span></span><span style='font-size:8.0pt;
  mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-bidi-font-family:
  "Times New Roman"'> = <span class=SpellE>player_tab.hp</span> / 2;<o:p></o:p></span></p>
  <p class=MsoNormal><span class=SpellE><span style='font-size:8.0pt;
  mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-bidi-font-family:
  "Times New Roman"'>CLU_UpdateLUD</span></span><span style='font-size:8.0pt;
  mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-bidi-font-family:
  "Times New Roman"'>(<span class=SpellE>player_lud</span>, “Player”, <span
  class=SpellE>player_tab</span>);<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;
  font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'>--End <span
  class=SpellE>updatelud.lua</span>--<b><o:p></o:p></b></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:10.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:10.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>Passing
and working with pointers in C makes code much faster, since less data has to
be passed between functions. If a pointer to a piece of data is passed, dereferencing
that pointer will give you access to the data. Unfortunately, <span
class=SpellE>Lua</span> offers no such facilities but <span class=SpellE>CaLua</span>
does allow you to dereference a LUD and translate it into one of 3 <span
class=SpellE>Lua</span> types; number, string, or table. </span><st1:State><st1:place><span
  class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:10.0pt;
  mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:10.0pt;
mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>ua</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:10.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'> also allows you turn a <span class=SpellE>Lua</span>
data type into a LUD, which must later be freed with a call to <span
class=SpellE>CLU_<span class=GramE>DllFree</span></span><span class=GramE>(</span>).
You can also inspect and update a LUD by passing in a type and data with which
to update. This can be handy in working with tables, as often, C functions will
take pointers to structures, but in <span class=SpellE>Lua</span>, you can only
work with the whole table. So, you have a LUD of a structure to give to C
functions, and you have a table of the same type to work with in <span
class=SpellE>Lua</span>. You can change that <span class=SpellE>Lua</span> table,
and make the changes to the structure that the LUD points to by simply updating
it. This will only work if the LUD points to a registered structure, and the
table looks just like that registered structure. An example will hopefully make
things clearer.<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;mso-bidi-font-size:10.0pt;
mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:10.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>So
we first call a C function which returns a pointer to a player structure. We
then translate that LUD into a table of type “Player”, and we half the
healthiest players health. We then update the player structure that <span
class=SpellE>player_lud</span> points too. Now in our game engine, the
healthiest player has only half his health.<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:10.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:10.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>Turning
a LUD into a <span class=SpellE>Lua</span> type is done by dereferencing that
LUD. <span class=SpellE>CaLua</span> will translate as best as possible to what
you want and an error will be flagged if a translation is not possible. Turning
a <span class=SpellE>Lua</span> data type into a LUD is done by <span
class=SpellE>malloc’ing</span> space for that type, then returning the pointer.
The LUD must later be freed with a call to <span class=SpellE>CLU_<span
class=GramE>DllFree</span></span><span class=GramE>(</span>).<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:10.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

</div>

<span style='font-size:11.0pt;mso-bidi-font-size:10.0pt;font-family:"Times New Roman";
mso-fareast-font-family:"Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:AR-SA;mso-bidi-font-weight:bold;mso-bidi-font-style:
italic'><br clear=all style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=Section7></div>

<span style='font-size:11.0pt;mso-bidi-font-size:10.0pt;font-family:"Times New Roman";
mso-fareast-font-family:"Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:AR-SA;mso-bidi-font-weight:bold;mso-bidi-font-style:
italic'><br clear=all style='page-break-before:auto;mso-break-type:section-break'>
</span>

<div class=Section8>

<p class=MsoNormal align=center style='text-align:center'><span class=SpellE><span
style='font-size:28.0pt'>CaLua</span></span><span style='font-size:28.0pt'> 2.0
API Reference<o:p></o:p></span></p>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></i></b></p>

<p class=MsoNormal><span class=SpellE><b><i><span style='font-size:14.0pt;
mso-bidi-font-size:28.0pt'>CaLua</span></i></b></span><b><i><span
style='font-size:14.0pt;mso-bidi-font-size:28.0pt'> C API Reference<o:p></o:p></span></i></b></p>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></i></b></p>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:28.0pt'>C
Data Types<o:p></o:p></span></i></b></p>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></i></b></p>

<p class=MsoNormal style='text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt'>char</span></span><span style='font-size:11.0pt'>, <span
class=SpellE>uchar</span>, short, <span class=SpellE>ushort</span>, <span
class=SpellE>int</span>, <span class=SpellE>uint</span>, float, double, <span
class=SpellE>ptr</span>, <span class=SpellE><i style='mso-bidi-font-style:normal'>reg_structure</i></span><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt'>char</span></span><span style='font-size:11.0pt'>*, <span
class=SpellE>uchar</span>*, short*, <span class=SpellE>ushort</span>*, <span
class=SpellE>int</span>*, <span class=SpellE>uint</span>*, float*, double*, <span
class=SpellE>ptr</span>*, <span class=SpellE><i style='mso-bidi-font-style:
normal'>reg_structure</i></span><i style='mso-bidi-font-style:normal'>*<o:p></o:p></i></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt'><o:p>&nbsp;</o:p></span></i></p>

<p class=MsoNormal style='text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt'>Where <span class=SpellE><i style='mso-bidi-font-style:
normal'>reg_structure</i></span> is a structure that has been registered using <span
class=SpellE>CLU_RegisterStructure</span>.</span></span><span style='font-size:
11.0pt'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:11.0pt'>Translation
Rules<o:p></o:p></span></i></b></p>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:11.0pt'><o:p>&nbsp;</o:p></span></i></b></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>When translating data
from C to </span><st1:place><st1:City><span class=SpellE><span
  style='font-size:11.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>Lua</span></span></st1:City><span
 style='font-size:11.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>,
 </span><st1:State><span class=SpellE><span style='font-size:11.0pt;mso-bidi-font-weight:
  bold;mso-bidi-font-style:italic'>CaL</span></span></st1:State></st1:place><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'>ua</span></span><span style='font-size:11.0pt;
mso-bidi-font-weight:bold;mso-bidi-font-style:italic'> follows these <span
class=GramE>rules :</span><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in;mso-list:l2 level1 lfo4;
tab-stops:list 1.0in'><![if !supportLists]><span style='font-size:11.0pt;
font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol;
mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><span style='mso-list:
Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:11.0pt;mso-bidi-font-weight:
bold;mso-bidi-font-style:italic'>All the numeric data types are translated into
<span class=SpellE>Lua</span> numbers.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in;mso-list:l2 level1 lfo4;
tab-stops:list 1.0in'><![if !supportLists]><span style='font-size:11.0pt;
font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol;
mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><span style='mso-list:
Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:11.0pt;mso-bidi-font-weight:
bold;mso-bidi-font-style:italic'>All pointers of any sort are translated into
LUD (light user data).<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in;mso-list:l2 level1 lfo4;
tab-stops:list 1.0in'><![if !supportLists]><span style='font-size:11.0pt;
font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol;
mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><span style='mso-list:
Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:11.0pt;mso-bidi-font-weight:
bold;mso-bidi-font-style:italic'>All char* are translated into <span
class=SpellE>Lua</span> strings. (<span class=GramE>use</span> the type ‘<span
class=SpellE>ptr</span>’ if this is <span class=SpellE>undesireable</span>).<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in;mso-list:l2 level1 lfo4;
tab-stops:list 1.0in'><![if !supportLists]><span style='font-size:11.0pt;
font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol;
mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><span style='mso-list:
Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span class=SpellE><i><span style='font-size:
11.0pt;mso-bidi-font-weight:bold'>reg_structure</span></i><span
style='font-size:11.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>’s</span></span><span
style='font-size:11.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>
are translated into <span class=SpellE>Lua</span> tables, as prescribed by the
information given to <span class=SpellE>CLU_RegisterStructure</span>.<o:p></o:p></span></p>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></i></b></p>

<p class=MsoNormal><span class=SpellE><span class=GramE><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>int</span></b></span></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> <span
class=SpellE>CLU_Init</span>()<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New";
mso-bidi-font-style:italic'>None<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New";
mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Returns
a <span class=SpellE>CaLua</span> state number upon success, -1 if something
went wrong. Any errors will be recorded in the error logs.<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></i></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'>Starts up <span class=SpellE>Lua</span> and creates
a new virtual machine. It then loads all the standard <span class=SpellE>Lua</span>
libraries into the virtual machine, and registers all the <span class=SpellE>CaLua</span>
structures and <span class=SpellE>CaLua</span> <span class=SpellE>Lua</span>
API functions. It then sets this <span class=SpellE>CaLua</span> state as the
current state and returns a state reference number so that you can load it at a
later time.<o:p></o:p></span></p>

<p class=MsoNormal><b><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal><span class=SpellE><span class=GramE><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>int</span></b></span></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> <span
class=SpellE>CLU_ShutdownState</span>(<span class=SpellE>int</span> state)<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='text-indent:.5in'><b><span style='font-size:10.0pt;
mso-bidi-font-size:28.0pt;font-family:"Courier New";mso-bidi-font-style:italic'><span
style='mso-tab-count:1'>      </span></span></b><span class=GramE><span
style='font-size:11.0pt;font-family:"Courier New";mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'>state </span><span style='font-size:11.0pt;
mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>
A <span class=SpellE>CaLua</span> state number.</span><b><span
style='font-size:10.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New";
mso-bidi-font-style:italic'><span style='mso-tab-count:1'>     </span></span></b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></i></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Returns
0 upon success, -1 if something went wrong.</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>
Any errors will be recorded in the error logs.<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></i></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Shuts
down a <span class=SpellE>CaLua</span> state.</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>
<span class=SpellE>Free’s</span> all the memory and resources consumed by this
state.<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span class=SpellE><span class=GramE><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>int</span></b></span></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> <span
class=SpellE>CLU_Shutdown</span>()<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New";
mso-bidi-font-style:italic'>None<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></i></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Returns
0 upon success, 1 if something went wrong.</span></span><span style='font-size:
11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'> Any
errors will be recorded in the error logs.<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></i></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Shuts
down <span class=SpellE>Lua</span> and all <span class=SpellE>CaLua</span>
states.</span></span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
mso-bidi-font-family:"Courier New"'> <span class=GramE>Unloads all the
registered functions and registered structures.</span> <span class=SpellE>Free’s</span>
all memory consumed by </span><st1:State><st1:place><span class=SpellE><span
  style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
mso-bidi-font-family:"Courier New"'>ua</span></span><span style='font-size:
11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>.<o:p></o:p></span></p>

<p class=MsoNormal><b><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal><span class=SpellE><span class=GramE><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>int</span></b></span></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> <span
class=SpellE>CLU_LoadState</span>(<span class=SpellE>int</span> state)<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='text-indent:.5in'><b><span style='font-size:10.0pt;
mso-bidi-font-size:28.0pt;font-family:"Courier New";mso-bidi-font-style:italic'><span
style='mso-tab-count:1'>      </span></span></b><span class=GramE><span
style='font-size:11.0pt;font-family:"Courier New";mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'>state </span><span style='font-size:11.0pt;
mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>
A <span class=SpellE>CaLua</span> state number.</span><b><span
style='font-size:10.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New";
mso-bidi-font-style:italic'><span style='mso-tab-count:1'>     </span></span></b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></i></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Returns
‘state’ upon success, -1 if something went wrong. Any errors will be recorded
in the error logs.<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></i></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Sets
a <span class=SpellE>CaLua</span> state as the current state, which means that
all calls to <span class=SpellE>CaLua</span> functions will use the data held
in this </span></span><st1:State><st1:place><span class=SpellE><span
  class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
  mso-bidi-font-family:"Courier New"'>CaL</span></span></span></st1:place></st1:State><span
class=SpellE><span class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:
28.0pt;mso-bidi-font-family:"Courier New"'>ua</span></span></span><span
class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:
"Courier New"'> state.</span></span><span style='font-size:11.0pt;mso-bidi-font-size:
28.0pt;mso-bidi-font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span class=SpellE><span class=GramE><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>int</span></b></span></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> <span
class=SpellE>CLU_LoadScript</span>(char* filename)<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:1.0in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>filename</span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>
:</span></span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
mso-bidi-font-family:"Courier New"'> Path to script file to be loaded.<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></i></p>

<p class=MsoNormal style='text-indent:.5in'><i><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New";
mso-bidi-font-style:italic'>Returns 0 upon success, 1 if something went wrong
in either compiling or running the script file.</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New";
mso-bidi-font-style:italic'> All errors will be recorded in the error log.<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></i></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'>Loads a script file, compiles it, <span
class=GramE>then</span> loads it into the virtual machine. Its ‘main’ function
is called, that is, code not within function tags is executed.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'>Compilation errors or interpreter errors will be
logged as reported from <span class=SpellE>Lua</span>.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span class=SpellE><span class=GramE><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>int</span></b></span></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> <span
class=SpellE>CLU_RegisterStructure</span>(char* name, char* <span class=SpellE>desc</span>)<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>name</span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>
:</span></span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
mso-bidi-font-family:"Courier New"'> Name with which you wish to register this
structure.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in'><span class=SpellE><span
class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:
"Courier New"'>desc</span></span></span><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>
:</span></span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
mso-bidi-font-family:"Courier New"'> Comma separated list of <span
class=SpellE><i style='mso-bidi-font-style:normal'>data_type:member_name</i></span>
pairs. These pairs must appear in the same order as they appear in the C
definition of this structure.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New";
mso-bidi-font-weight:bold'>Returns 0 upon success, 1 if something went wrong.</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New";
mso-bidi-font-weight:bold'> Any errors are recorded in the error logs.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New";
mso-bidi-font-weight:bold'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:12.0pt'>Registers a structure with </span></span><st1:State><st1:place><span
  class=SpellE><span class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:
  12.0pt'>CaL</span></span></span></st1:place></st1:State><span class=SpellE><span
class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:12.0pt'>ua</span></span></span><span
class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:12.0pt'>.</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:12.0pt'> The ‘name’ parameter is
what will be used when referring to this structure in later <span class=SpellE>CaLua</span>
structure registrations, function calls etc. etc. The ‘name’ can be anything
you want.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:12.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:12.0pt'>The data description is a
comma separated list of <span class=SpellE><i style='mso-bidi-font-style:normal'>data_type:member_name</i></span>
pairs, where ‘<span class=SpellE>data_type</span>’ is a <span class=SpellE>CaLua</span>
C Data Type (described above), and ‘<span class=SpellE>member_name</span>’ is
the name you </span><st1:State><st1:place><span style='font-size:11.0pt;
  mso-bidi-font-size:12.0pt'>wis</span></st1:place></st1:State><span
style='font-size:11.0pt;mso-bidi-font-size:12.0pt'>h to give this member. The
name can be anything you desire, but know that this name will be what is used
when working with this structure in <span class=SpellE>Lua</span>. There must
be no spaces surrounding the colon.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:12.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:12.0pt'>Any errors are recorded in
the error logs.<o:p></o:p></span></p>

</div>

<span style='font-size:11.0pt;mso-bidi-font-size:12.0pt;font-family:"Times New Roman";
mso-fareast-font-family:"Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:AR-SA'><br clear=all style='page-break-before:auto;
mso-break-type:section-break'>
</span>

<div class=Section9></div>

<span style='font-size:11.0pt;mso-bidi-font-size:12.0pt;font-family:"Times New Roman";
mso-fareast-font-family:"Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:AR-SA'><br clear=all style='page-break-before:always;
mso-break-type:section-break'>
</span>

<div class=Section10>

<p class=MsoNormal><span class=SpellE><span class=GramE><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>int</span></b></span></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> <span
class=SpellE>CLU_RegisterFunction</span>(<span style='mso-tab-count:1'>  </span>char*
name, char* ret, char* <span class=SpellE>args</span>, <o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-left:2.0in;text-indent:.5in'><span
class=SpellE><span class=GramE><b><span style='font-size:11.0pt;mso-bidi-font-size:
28.0pt;font-family:"Courier New"'>int</span></b></span></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>
convention, CLU_CAST(<span class=SpellE>func</span>))<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:1.0in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New";
mso-bidi-font-style:italic'>name </span><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;mso-bidi-font-style:italic'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-style:italic'>
Name with which to register this function.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New";
mso-bidi-font-style:italic'>ret </span><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;mso-bidi-font-style:italic'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-style:italic'> <span
class=SpellE>CaLua</span> C data type of the returned data.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in'><span class=SpellE><span
class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:
"Courier New";mso-bidi-font-style:italic'>args</span></span></span><span
class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:
"Courier New";mso-bidi-font-style:italic'> </span><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;mso-bidi-font-style:italic'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-style:italic'>
Comma separated list of <span class=SpellE>CaLua</span> C data types or the
function arguments.</span><span style='font-size:11.0pt;mso-bidi-font-size:
28.0pt;font-family:"Courier New";mso-bidi-font-style:italic'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New";
mso-bidi-font-style:italic'>convention </span><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;mso-bidi-font-style:italic'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-style:italic'>
Either CLU_CDECL for a <span class=SpellE>cdecl</span> function, or CLU_STDCALL
for a <span class=SpellE>stdcall</span> function.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in'><span class=SpellE><span
class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:
"Courier New";mso-bidi-font-style:italic'>func</span></span></span><span
class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:
"Courier New";mso-bidi-font-style:italic'> </span><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;mso-bidi-font-style:italic'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-style:italic'><span
style='mso-spacerun:yes'>  </span></span><st1:place><span style='font-size:
 11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-style:italic'>Po</span></st1:place><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-style:italic'>inter
to function.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Returns
0 upon success, 1 if something went wrong.</span></span><span style='font-size:
11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'> All
errors are recorded in the error logs.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'>Registers a C function with <span class=SpellE>CaLua</span>
and exposes it to <span class=SpellE>Lua</span> scripts currently loaded in </span><st1:State><st1:place><span
  class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
  mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>ua</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'>. The ‘name’ you give the function will be used to
reference the function in <span class=SpellE>CLU_Call</span>. The ‘ret’ will be
translated from C data to <span class=SpellE>Lua</span> data under the
guidelines stated above. The arguments passed from <span class=SpellE>CLU_Call</span>
will be translated as best as possible to the <span class=SpellE>CaLua</span> C
data types specified in ‘<span class=SpellE>args</span>’. The calling
‘convention’ must either be CLU_CDECL for <span class=SpellE>cdecl</span>
functions (most compilers’ default calling convention) or CLU_STDCALL for <span
class=SpellE>stdcall</span> functions. ‘<span class=SpellE><span class=GramE>func</span></span>’
should always be in the macro CLU_CAST to save yourself some tricky type
casting.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span class=GramE><b><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;font-family:"Courier New"'>void</span></b></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>* <span
class=SpellE>CLU_CallScriptFunction</span>(char* <span class=SpellE>funcName</span>,
char* <span class=SpellE>retArgs</span>, char* <span class=SpellE>args</span>,
...)<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:1.0in'><span class=SpellE><span
class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:
"Courier New"'>funcName</span></span></span><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> </span><st1:country-region><st1:place><span
  style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>Nam</span></st1:place></st1:country-region><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>e of <span class=SpellE>Lua</span>
function as it appears in the script. <o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in'><span class=SpellE><span
class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:
"Courier New"'>retArgs</span></span></span><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> A comma separated list of <span
class=SpellE>CaLua</span> C data types which will be translated from the return
types of the <span class=SpellE>Lua</span> function, and used as a template for
constructing the returned pointer (see notes).<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in'><span class=SpellE><span
class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:
"Courier New"'>args</span></span></span><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> A comma separated list of <span
class=SpellE>CaLua</span> C data types which will be given as additional
arguments (the <span class=SpellE>elipses</span>) and translated into <span
class=SpellE>Lua</span> types.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>...
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> Arguments to pass as
specified in ‘<span class=SpellE>args</span>’.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>A
pointer to a structure which has a structure that looks like ‘<span
class=SpellE>retArgs</span>’. This pointer must be freed by calling <span
class=SpellE>CLU_<span class=GramE>DllFree</span></span><span class=GramE>(</span>).<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Calls
a function named ‘<span class=SpellE>funcName’that</span> is present in a
script currently loaded in the </span><st1:State><st1:place><span class=SpellE><span
  style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
mso-bidi-font-family:"Courier New"'>ua</span></span><span style='font-size:
11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'> virtual
machine. The return value is a pointer to a structure. This structure has data
members of ‘<span class=SpellE>retArgs</span>’, and must be freed at some point.
‘<span class=SpellE><span class=GramE>retArgs</span></span>’ is a comma
separated list of <span class=SpellE>CaLua</span> C data types, which will
define the shape of the data at the returned pointer. ‘<span class=SpellE><span
class=GramE>args</span></span>’ is a comma separated list of <span
class=SpellE>CaLua</span> C data types, which will be passed in the <span
class=SpellE>elipses</span> afterwards. The passed arguments will be translated
and sent to the <span class=SpellE>Lua</span> function as the translated types.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

</div>

<span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Times New Roman";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Courier New";
mso-ansi-language:EN-US;mso-fareast-language:EN-US;mso-bidi-language:AR-SA'><br
clear=all style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=Section11>

<p class=MsoNormal><span class=GramE><b><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;font-family:"Courier New"'>void</span></b></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> <span
class=SpellE>CLU_DllFree</span>(void* <span class=SpellE>memptr</span>)<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:1.0in'><span class=SpellE><span
class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:
"Courier New"'>memptr</span></span></span><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> A pointer to a piece of
memory allocated by </span><st1:State><st1:place><span class=SpellE><span
  style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>ua</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>None.</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Data
allocated by <span class=SpellE>CaLua</span> must be freed by </span><st1:State><st1:place><span
  class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
  mso-bidi-font-family:"Courier New"'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
mso-bidi-font-family:"Courier New"'>ua</span></span><span style='font-size:
11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>, since the
memory is allocated in its program space. This function is basically only
useful for freeing the returned pointer from <span class=SpellE>CLU_<span
class=GramE>CallScriptFunction</span></span><span class=GramE>(</span>).<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span class=SpellE><b><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;font-family:"Courier New"'>lua_State</span></b></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>* <span
class=SpellE>CLU_<span class=GramE>GetVirtualMachine</span></span><span
class=GramE>()</span><o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:1.0in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>None.</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
font-family:"Courier New"'>lua_State</span></span><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>* </span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> Pointer to the <span
class=SpellE>Lua</span> virtual machine being used by the current </span><st1:State><st1:place><span
  class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>ua</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> state.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Allows
access to the <span class=SpellE>Lua</span> state that the current </span></span><st1:State><st1:place><span
  class=SpellE><span class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:
  28.0pt;mso-bidi-font-family:"Courier New"'>CaL</span></span></span></st1:place></st1:State><span
class=SpellE><span class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:
28.0pt;mso-bidi-font-family:"Courier New"'>ua</span></span></span><span
class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:
"Courier New"'> state is operating with.</span></span><span style='font-size:
11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'> Mess with
this at your own risk, as not playing nicely with this could cause </span><st1:State><st1:place><span
  class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
  mso-bidi-font-family:"Courier New"'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
mso-bidi-font-family:"Courier New"'>ua</span></span><span style='font-size:
11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'> to crash
unexpectedly.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span class=SpellE><span class=GramE><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>int</span></b></span></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> <span
class=SpellE>CLU_GetCurrentState</span>()<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:1.0in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>None.</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal><span style='mso-tab-count:1'>            </span><span
style='mso-tab-count:1'>            </span><span class=SpellE><span
class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:12.0pt;font-family:
"Courier New";mso-bidi-font-family:"Times New Roman"'>int</span></span></span><span
class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:12.0pt;font-family:
"Courier New";mso-bidi-font-family:"Times New Roman"'> </span><span
style='font-size:11.0pt;mso-bidi-font-size:12.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:12.0pt'> Reference number of current
</span><st1:State><st1:place><span class=SpellE><span style='font-size:11.0pt;
  mso-bidi-font-size:12.0pt'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:12.0pt'>ua</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:12.0pt'> state.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Returns
a reference number of the current </span></span><st1:State><st1:place><span
  class=SpellE><span class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:
  28.0pt;mso-bidi-font-family:"Courier New"'>CaL</span></span></span></st1:place></st1:State><span
class=SpellE><span class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:
28.0pt;mso-bidi-font-family:"Courier New"'>ua</span></span></span><span
class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:
"Courier New"'> state being used.</span></span><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

</div>

<b><i><span style='font-size:14.0pt;mso-bidi-font-size:28.0pt;font-family:"Times New Roman";
mso-fareast-font-family:"Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:AR-SA'><br clear=all style='page-break-before:always;
mso-break-type:section-break'>
</span></i></b>

<div class=Section12>

<p class=MsoNormal><span class=SpellE><b><i><span style='font-size:14.0pt;
mso-bidi-font-size:28.0pt'>CaLua</span></i></b></span><b><i><span
style='font-size:14.0pt;mso-bidi-font-size:28.0pt'> <span class=SpellE>Lua</span>
API Reference<o:p></o:p></span></i></b></p>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></i></b></p>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></i></b></p>

<p class=MsoNormal><span class=SpellE><b><i><span style='font-size:14.0pt;
mso-bidi-font-size:28.0pt'>CaLua</span></i></b></span><b><i><span
style='font-size:14.0pt;mso-bidi-font-size:28.0pt'> Array Tables<o:p></o:p></span></i></b></p>

<p class=MsoNormal style='text-indent:.5in'><b><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>Whenever
you create or alter <span class=GramE>an</span> <span class=SpellE>CaLua</span>
array, you use a table of type <span class=SpellE>CLUArray</span>. The <span
class=SpellE>CLUArray</span> table contains a lot of important information
about arrays, such as a LUD to the array data, the number of array elements in
the array, the type of the array, and the size of each array element in bytes.
The <span class=SpellE>CLUArray</span> table, in <span class=SpellE>Lua</span>,
has the following members:<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>data </span><span style='font-size:
11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt'> A LUD to the actual array data.<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>size </span><span style='font-size:
11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt'> The number of elements in the array.<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>type </span><span style='font-size:
11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt'> The type of the array, as seen by the </span><st1:State><st1:place><span
  class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>ua</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> back-end.<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span class=SpellE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>element_<span class=GramE>size</span></span></span><span
class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:
"Courier New";mso-bidi-font-family:"Times New Roman"'> </span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> The size, in bytes, of each
array element.<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt'>The ‘type’ field is just a number, and is used
mainly by the </span><st1:State><st1:place><span class=SpellE><span
  style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>ua</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> back end. There are other
hidden fields in the <span class=SpellE>CLUArray</span> table, but those other
fields should not be touched, as they are important to maintaining stability.<o:p></o:p></span></p>

<p class=MsoNormal><b><i><span style='font-size:14.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></i></b></p>

<p class=MsoNormal><span class=GramE><b><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>data</span></i></b></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> <span
class=SpellE>CLU_Call</span>(string,...)<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>string
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> </span><st1:country-region><st1:place><span
  style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>Nam</span></st1:place></st1:country-region><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>e of C function to call.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>...
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> Arguments to pass to the
function.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
mso-bidi-font-family:"Courier New"'>Lua</span></span><span style='font-size:
11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'> data, the
type is depending on the return value of the C function and how it is
translated.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><span
style='mso-tab-count:1'>            </span>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Calls
a registered C function whose registration name is given by ‘string’.</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>
The arguments that you pass in the <span class=SpellE>elipses</span> are
translated from their <span class=SpellE>Lua</span> data types to the C types.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span class=GramE><b><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;font-family:"Courier New"'>table</span></b></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> <span
class=SpellE>CLU_Array_Create</span>(<span class=SpellE>string,number</span>,[<i
style='mso-bidi-font-style:normal'>array</i>])<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>string
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> <span class=SpellE>CaLua</span>
C data type of the array.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>number
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> Number of elements to
allocate.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;font-family:"Courier New"'>[<span class=GramE>array</span>]
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>: An array of
an appropriate <span class=SpellE>Lua</span> type which will be used to
initialize the array. In the case of ‘char’ arrays, this can be a string.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>A
table of type <span class=SpellE>CLUArray</span>.</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><span
style='mso-tab-count:1'>            </span>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Creates
a new array and fills it with initialization data. If ‘number’ is greater than
the amount of elements in ‘array’, then the extra elements are left blank.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

</div>

<span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Times New Roman";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Courier New";
mso-ansi-language:EN-US;mso-fareast-language:EN-US;mso-bidi-language:AR-SA'><br
clear=all style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=Section13>

<p class=MsoNormal><span class=GramE><b><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;font-family:"Courier New"'>table</span></b></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> <span
class=SpellE>CLU_Array_Destroy</span>(table)<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>table
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> <span class=SpellE>CLUArray</span>
table to be destroyed.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>An
empty <span class=SpellE>CLUArray</span> table.</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Frees
an array, and returns the array with everything cleaned out. The use of the
returned table in other array operations is unknown.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span class=GramE><b><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;font-family:"Courier New"'>table</span></b></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> <span
class=SpellE>CLU_Array_Insert</span>(<span class=SpellE>table,<i
style='mso-bidi-font-style:normal'>data</i>,number</span>)<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>table
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> <span class=SpellE>CLUArray</span>
table to have data inserted into it.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><i
style='mso-bidi-font-style:normal'><span style='font-size:11.0pt;mso-bidi-font-size:
28.0pt;font-family:"Courier New"'>data </span></i><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt'>:</span></span><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt'> An appropriate <span class=SpellE>Lua</span> data
type to insert.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>number
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> </span><st1:State><st1:place><span
  style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>Ind</span></st1:place></st1:State><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>ex of where to insert it.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New";
mso-bidi-font-style:italic'>A new <span class=SpellE>CLUArray</span> table with
the data inserted into it.</span></span><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New";mso-bidi-font-style:
italic'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New";
mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'>Translates ‘data’ and inserts it into ‘table’. This
function does not overwrite data that’s already in the array, but creates space
for it and pushes the other data down the array. Appropriate <span
class=SpellE>Lua</span> data, is data of a <span class=SpellE>Lua</span> data
type that will be translated into the <span class=SpellE>CaLua</span> C data
type of the array. See the above notes on translation. The ‘number’ of the </span><st1:State><st1:place><span
  style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
  mso-bidi-font-style:italic'>ind</span></st1:place></st1:State><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'>ex starts at zero for the beginning of the array,
same as in C.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span class=GramE><b><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>data</span></i></b></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> <span
class=SpellE>CLU_Array_Get</span>(<span class=SpellE>table,number</span>)<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>table
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> <span class=SpellE>CLUArray</span>
table of the array to get data from.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>number
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> </span><st1:State><st1:place><span
  style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>Ind</span></st1:place></st1:State><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>ex into array to get from.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>The
<span class=SpellE>Lua</span> type of ‘data’ depends on the type of the array
in ‘table’ and how it is translated.<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Gets
a piece of data from an array and translates it accordingly. </span><st1:State><st1:place><span
  class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
  mso-bidi-font-family:"Courier New"'>Ind</span></span></st1:place></st1:State><span
class=GramE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:
"Courier New"'>exes into the array starts</span></span><span style='font-size:
11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'> at zero,
same as in C.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><b><i><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></i></b></p>

<p class=MsoNormal><span class=GramE><b><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;font-family:"Courier New"'>table</span></b></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> <span
class=SpellE>CLU_Array_Append</span>(<span class=SpellE>table,<i
style='mso-bidi-font-style:normal'>data</i></span>)<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>table
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> <span class=SpellE>CLUArray</span>
table of the array to append.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><i
style='mso-bidi-font-style:normal'><span style='font-size:11.0pt;mso-bidi-font-size:
28.0pt;font-family:"Courier New"'>data</span></i><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> Appropriate <span
class=SpellE>Lua</span> data to append to array.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>A
new <span class=SpellE>CLUArray</span> table with the data appended to it.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><span
style='mso-spacerun:yes'> </span><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Functions
the exact same as <span class=SpellE>CLU_Array_Insert</span>.</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>
Translates ‘data’ and puts it on the end of the array. See <span class=SpellE>CLU_Array_Insert</span>
for more detailed notes.<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span class=GramE><b><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;font-family:"Courier New"'>table</span></b></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> <span
class=SpellE>CLU_Array_Delete</span>(table,number1,number2)<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>table
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> <span class=SpellE>CLUArray</span>
table of the array to </span><st1:State><st1:place><span style='font-size:11.0pt;
  mso-bidi-font-size:28.0pt'>del</span></st1:place></st1:State><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>ete from.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>number1
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> Index of where to start </span><st1:State><st1:place><span
  style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>del</span></st1:place></st1:State><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>eting.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>number2
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> Amount of elements to </span><st1:State><st1:place><span
  style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>del</span></st1:place></st1:State><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>ete.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>A
new <span class=SpellE>CLUArray</span> table with the data </span><st1:State><st1:place><span
  style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>del</span></st1:place></st1:State><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>eted
from it.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'>Starts deleting ‘number2’ amount of array elements
from </span><st1:State><st1:place><span style='font-size:11.0pt;mso-bidi-font-size:
  28.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>ind</span></st1:place></st1:State><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'>ex ‘number1’. If you attempt to </span><st1:State><st1:place><span
  style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
  mso-bidi-font-style:italic'>del</span></st1:place></st1:State><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'>ete beyond the size of the array, ‘number2’ will be
clamped to the end of the array.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'><span style='mso-spacerun:yes'> </span><o:p></o:p></span></p>

<p class=MsoNormal><span class=GramE><b><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;font-family:"Courier New"'>table</span></b></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> <span
class=SpellE>CLU_Array_InsertArray</span>(table1,table2,number)<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>table1
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> <span class=SpellE>CLUArray</span>
table of destination array.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>table2
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> <span class=SpellE>CLUArray</span>
table of source array.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>number
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> </span><st1:State><st1:place><span
  style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>Ind</span></st1:place></st1:State><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>ex of where to insert into
table1.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>A
new <span class=SpellE>CLUArray</span> table with ‘table2’ inserted into it.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'>Inserts a whole <span class=SpellE>CaLua</span> array
into another <span class=SpellE>CaLua</span> array.</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'> <span class=GramE>Works the same as <span
class=SpellE>CLU_Array_Insert</span>.</span> Both arrays must be of exactly the
same type for this function to work. No translation is done. See the Summary of
<span class=SpellE>CLU_Array_Insert</span>.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span class=GramE><b><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;font-family:"Courier New"'>string</span></b></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> <span
class=SpellE>CLU_Array_CharToString</span>(table)<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>table
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> <span class=SpellE>CLUArray</span>
table of char array.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>A
string representation of the array of chars.</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'>Turns an array of chars into a <span class=SpellE>Lua</span>
string.</span></span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
mso-bidi-font-weight:bold;mso-bidi-font-style:italic'> The same can be done
with the translation functions, but this makes life easier. The type of array
in ‘table’ must be ‘char’ otherwise this function will fail.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

</div>

<span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Times New Roman";
mso-fareast-font-family:"Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:AR-SA;mso-bidi-font-weight:bold;mso-bidi-font-style:
italic'><br clear=all style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=Section14>

<p class=MsoNormal><b><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
font-family:"Courier New"'>LUD CLU_<span class=GramE>Table2LUD(</span><span
class=SpellE>table,string</span>)<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>table
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> Table to turn into a LUD.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>string
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> The name of the registered
structure that ‘table’ looks like.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>LUD
of a C structure that looks like ‘table’.</span></span><span style='font-size:
11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'> Must
later be freed with <span class=SpellE>CLU_<span class=GramE>DllFree</span></span><span
class=GramE>(</span>).<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'>Turns a table into a LUD.</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'> ‘<span class=GramE>table</span>’ must look the
same as would be a table translated from the registered C type ‘string’. This
function allocates a block of memory in the <span class=SpellE>CaLua</span>
memory space and returns a pointer to that memory block, so, the memory block
must be freed by </span><st1:State><st1:place><span class=SpellE><span
  style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
  mso-bidi-font-style:italic'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>ua</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'> with a call to <span class=SpellE>CLU_DllFree</span>().<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><b><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
font-family:"Courier New"'>LUD CLU_<span class=GramE>String2LUD(</span>string)<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>string
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> String to be translated
into LUD.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>LUD
of a C string (‘char*’).<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'>Takes a <span class=SpellE>Lua</span> string, makes
a copy of it into memory and returns a pointer to that block of memory. The
returned LUD must be freed with a call to <span class=SpellE>CLU_<span
class=GramE>DllFree</span></span><span class=GramE>(</span>).<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><b><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
font-family:"Courier New"'>LUD CLU_<span class=GramE>Number2LUD(</span><span
class=SpellE>number,string</span>)<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>number
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> The number to be at the
LUD.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>string
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> A numerical <span
class=SpellE>CaLua</span> C data type.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>LUD
of a numerical C data type storing ‘number’.</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'>Because the storage type and memory size of
numerical C data types can vary, the storage type must be explicitly stated
here. This function will allocate a block of memory of a numeric <span
class=SpellE>CaLua</span> C data type, and store ‘number’ in there. The
returned LUD must later be freed with a call to <span class=SpellE>CLU_<span
class=GramE>DllFree</span></span><span class=GramE>(</span>).<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
mso-bidi-font-weight:bold;mso-bidi-font-style:italic'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span class=GramE><b><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;font-family:"Courier New"'>table</span></b></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>
CLU_LUD2Table(<span class=SpellE>LUD,string</span>)<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>LUD
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> </span><st1:place><span
 style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>Po</span></st1:place><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>inter to a structure.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>string
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> Name of a registered
structure which LUD points to.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>A
table which is translated from the structure at LUD.</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Translates
the registered structure ‘string’ at LUD.</span></span><span style='font-size:
11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'> It
dereferences LUD and then translates it into a <span class=SpellE>Lua</span>
tables.<o:p></o:p></span></p>

<p class=MsoNormal><b><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal><span class=GramE><b><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;font-family:"Courier New"'>string</span></b></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>
CLU_LUD2String(LUD)<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>LUD
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> String pointer.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>A
string version of what LUD is.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Just
blindly returns ‘LUD’ as a string. It treats ‘LUD’ as a pointer to an array of
chars terminated by a null character.<o:p></o:p></span></p>

<p class=MsoNormal><b><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal><span class=GramE><b><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;font-family:"Courier New"'>number</span></b></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>
CLU_LUD2Number(<span class=SpellE>LUD,string</span>)<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>LUD
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> </span><st1:place><span
 style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>Po</span></st1:place><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>inter to be <span
class=SpellE>dereferenced</span>.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>string
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> The numerical <span
class=SpellE>CaLua</span> C data type that ‘LUD’ points to.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>A
LUA number of what is stored at ‘LUD’.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Because
the dereferencing semantics change depending on the C data type that LUD points
to, you must explicitly state the type of pointer LUD is. This will dereference
LUD and return the numerical value of the data at LUD.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

</div>

<span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Times New Roman";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Courier New";
mso-ansi-language:EN-US;mso-fareast-language:EN-US;mso-bidi-language:AR-SA'><br
clear=all style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=Section15>

<p class=MsoNormal><span class=GramE><b><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>nothing</span></i></b></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> <span
class=SpellE>CLU_UpdateLUD</span>(<span class=SpellE>LUD,string,<i
style='mso-bidi-font-style:normal'>data</i></span>)<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>LUD
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> </span><st1:place><span
 style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>Po</span></st1:place><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>inter to memory block to be
updated.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>string
</span><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt'>:</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'> Name of <span class=SpellE>CaLua</span>
C data type which ‘LUD’ points to.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><i
style='mso-bidi-font-style:normal'><span style='font-size:11.0pt;mso-bidi-font-size:
28.0pt;font-family:"Courier New"'>data </span></i><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt'>:</span></span><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt'> Data of an appropriate <span class=SpellE>Lua</span>
data type with which to update ‘LUD’.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'><span
style='mso-spacerun:yes'> </span><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><span
style='mso-tab-count:1'>            </span></span></i><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>None.</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Translates
‘data’ from a <span class=SpellE>Lua</span> data type into a C data type, <span
class=GramE>then</span> compares the C data type with the data at ‘LUD’ and
updates the data at ‘LUD’ accordingly. This is especially handy for working
with pointers (LUD) to structures and <span class=SpellE>Lua</span> tables (see
<i style='mso-bidi-font-style:normal'>Working with LUD</i> for more info).<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span class=SpellE><span class=GramE><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'>int</span></b></span></span><b><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New"'> <span
class=SpellE>CLU_DllFree</span>(LUD)<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Arguments<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span class=GramE><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;font-family:"Courier New";
mso-bidi-font-weight:bold'>LUD</span><span style='font-size:11.0pt;mso-bidi-font-size:
28.0pt;font-family:"Courier New"'> </span><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt'>:</span></span><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt'> </span><st1:place><span style='font-size:11.0pt;
 mso-bidi-font-size:28.0pt'>Po</span></st1:place><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt'>inter to memory block to be freed.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Return
Value<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Always
returns 0.<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='font-size:11.0pt;
mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><i style='mso-bidi-font-style:normal'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-family:"Courier New"'>Summary<o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'>Blindly frees a block of memory that was allocated
by </span><st1:State><st1:place><span class=SpellE><span style='font-size:11.0pt;
  mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>CaL</span></span></st1:place></st1:State><span
class=SpellE><span style='font-size:11.0pt;mso-bidi-font-size:28.0pt;
mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>ua</span></span><span
style='font-size:11.0pt;mso-bidi-font-size:28.0pt;mso-bidi-font-weight:bold;
mso-bidi-font-style:italic'>. This is useful for the <i>type</i>2LUD
translation functions.</span></p>

</div>

</body>

</html>
